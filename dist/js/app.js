!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="../",r(r.s=0)}([function(e,t,r){r(1),r(2),r(3),r(5),e.exports=r(4)},function(e,t){LZWEncoder=function(){var e,t,r,n,i,a,s,o,c,l,d,u,m={},f=-1,h=12,w=5003,v=h,y=1<<h,F=[],g=[],p=w,I=0,S=!1,L=0,_=0,b=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],C=[],E=m.LZWEncoder=function(i,a,s,o){e=i,t=a,r=s,n=Math.max(2,o)},N=function(e,t){C[u++]=e,u>=254&&D(t)},x=function(e){B(p),I=l+2,S=!0,O(l,e)},B=function(e){for(var t=0;t<e;++t)F[t]=-1},k=m.compress=function(e,t){var r,n,i,a,m,h,w;for(S=!1,o=M(s=c=e),d=1+(l=1<<e-1),I=l+2,u=0,a=P(),w=0,r=p;r<65536;r*=2)++w;w=8-w,B(h=p),O(l,t);e:for(;(i=P())!=f;)if(r=(i<<v)+a,F[n=i<<w^a]!=r){if(F[n]>=0){m=h-n,0===n&&(m=1);do{if((n-=m)<0&&(n+=h),F[n]==r){a=g[n];continue e}}while(F[n]>=0)}O(a,t),a=i,I<y?(g[n]=I++,F[n]=r):x(t)}else a=g[n];O(a,t),O(d,t)},D=(m.encode=function(r){r.writeByte(n),i=e*t,a=0,k(n+1,r),r.writeByte(0)},function(e){u>0&&(e.writeByte(u),e.writeBytes(C,0,u),u=0)}),M=function(e){return(1<<e)-1},P=function(){return 0===i?f:(--i,255&r[a++])},O=function(e,t){for(L&=b[_],_>0?L|=e<<_:L=e,_+=s;_>=8;)N(255&L,t),L>>=8,_-=8;if((I>o||S)&&(S?(o=M(s=c),S=!1):(++s,o=s==v?y:M(s))),e==d){for(;_>0;)N(255&L,t),L>>=8,_-=8;D(t)}};return E.apply(this,arguments),m}},function(e,t){NeuQuant=function(){var e,t,r,n,i,a={},s=256,o=499,c=491,l=487,d=503,u=3*d,m=s-1,f=4,h=100,w=16,v=1<<w,y=10,F=10,g=v>>F,p=v<<y-F,I=s>>3,S=6,L=1<<S,_=I*L,b=30,C=10,E=1<<C,N=8,x=1<<N,B=C+N,k=1<<B,D=[],M=[],P=[],O=[],T=a.NeuQuant=function(e,a,o){var c,l;for(t=e,r=a,n=o,i=new Array(s),c=0;c<s;c++)i[c]=new Array(4),(l=i[c])[0]=l[1]=l[2]=(c<<f+8)/s,P[c]=v/s,M[c]=0},q=function(){for(var e=[],t=new Array(s),r=0;r<s;r++)t[i[r][3]]=r;for(var n=0,a=0;a<s;a++){var o=t[a];e[n++]=i[o][0],e[n++]=i[o][1],e[n++]=i[o][2]}return e},R=function(){var e,t,r,n,a,o,c,l;for(c=0,l=0,e=0;e<s;e++){for(r=e,n=(a=i[e])[1],t=e+1;t<s;t++)(o=i[t])[1]<n&&(r=t,n=o[1]);if(o=i[r],e!=r&&(t=o[0],o[0]=a[0],a[0]=t,t=o[1],o[1]=a[1],a[1]=t,t=o[2],o[2]=a[2],a[2]=t,t=o[3],o[3]=a[3],a[3]=t),n!=c){for(D[c]=l+e>>1,t=c+1;t<n;t++)D[t]=e;c=n,l=e}}for(D[c]=l+m>>1,t=c+1;t<256;t++)D[t]=m},A=function(){var i,a,s,m,w,v,y,F,g,p,I,L,C,N;for(r<u&&(n=1),e=30+(n-1)/3,L=t,C=0,N=r,p=(I=r/(3*n))/h|0,F=E,(y=(v=_)>>S)<=1&&(y=0),i=0;i<y;i++)O[i]=F*((y*y-i*i)*x/(y*y));for(g=r<u?3:r%o!=0?3*o:r%c!=0?3*c:r%l!=0?3*l:3*d,i=0;i<I;)if(s=(255&L[C+0])<<f,m=(255&L[C+1])<<f,w=(255&L[C+2])<<f,a=$(s,m,w),J(F,a,s,m,w),0!==y&&j(y,a,s,m,w),(C+=g)>=N&&(C-=r),0===p&&(p=1),++i%p==0)for(F-=F/e,(y=(v-=v/b)>>S)<=1&&(y=0),a=0;a<y;a++)O[a]=F*((y*y-a*a)*x/(y*y))},U=(a.map=function(e,t,r){var n,a,o,c,l,d,u;for(l=1e3,u=-1,a=(n=D[t])-1;n<s||a>=0;)n<s&&((o=(d=i[n])[1]-t)>=l?n=s:(n++,o<0&&(o=-o),(c=d[0]-e)<0&&(c=-c),(o+=c)<l&&((c=d[2]-r)<0&&(c=-c),(o+=c)<l&&(l=o,u=d[3])))),a>=0&&((o=t-(d=i[a])[1])>=l?a=-1:(a--,o<0&&(o=-o),(c=d[0]-e)<0&&(c=-c),(o+=c)<l&&((c=d[2]-r)<0&&(c=-c),(o+=c)<l&&(l=o,u=d[3]))));return u},a.process=function(){return A(),U(),R(),q()},function(){var e;for(e=0;e<s;e++)i[e][0]>>=f,i[e][1]>>=f,i[e][2]>>=f,i[e][3]=e}),j=function(e,t,r,n,a){var o,c,l,d,u,m,f;for((l=t-e)<-1&&(l=-1),(d=t+e)>s&&(d=s),o=t+1,c=t-1,m=1;o<d||c>l;){if(u=O[m++],o<d){f=i[o++];try{f[0]-=u*(f[0]-r)/k,f[1]-=u*(f[1]-n)/k,f[2]-=u*(f[2]-a)/k}catch(e){}}if(c>l){f=i[c--];try{f[0]-=u*(f[0]-r)/k,f[1]-=u*(f[1]-n)/k,f[2]-=u*(f[2]-a)/k}catch(e){}}}},J=function(e,t,r,n,a){var s=i[t];s[0]-=e*(s[0]-r)/E,s[1]-=e*(s[1]-n)/E,s[2]-=e*(s[2]-a)/E},$=function(e,t,r){var n,a,o,c,l,d,u,m,h,v;for(h=m=~(1<<31),u=d=-1,n=0;n<s;n++)(a=(v=i[n])[0]-e)<0&&(a=-a),(o=v[1]-t)<0&&(o=-o),a+=o,(o=v[2]-r)<0&&(o=-o),(a+=o)<m&&(m=a,d=n),(c=a-(M[n]>>w-f))<h&&(h=c,u=n),l=P[n]>>F,P[n]-=l,M[n]+=l<<y;return P[d]+=g,M[d]-=p,u};return T.apply(this,arguments),a}},function(e,t){GIFEncoder=function(){for(var e=0,t={};e<256;e++)t[e]=String.fromCharCode(e);function r(){this.bin=[]}r.prototype.getData=function(){for(var e="",r=this.bin.length,n=0;n<r;n++)e+=t[this.bin[n]];return e},r.prototype.writeByte=function(e){this.bin.push(e)},r.prototype.writeUTFBytes=function(e){for(var t=e.length,r=0;r<t;r++)this.writeByte(e.charCodeAt(r))},r.prototype.writeBytes=function(e,t,r){for(var n=r||e.length,i=t||0;i<n;i++)this.writeByte(e[i])};var n,i,a,s,o,c,l,d,u,m={},f=null,h=-1,w=0,v=!1,y=[],F=7,g=-1,p=!1,I=!0,S=!1,L=10,_="Generated by jsgif (https://github.com/antimatter15/jsgif/)",b=(m.setDelay=function(e){w=Math.round(e/10)},m.setDispose=function(e){e>=0&&(g=e)},m.setRepeat=function(e){e>=0&&(h=e)},m.setTransparent=function(e){f=e},m.setComment=function(e){_=e},m.addFrame=function(e,t){if(null===e||!v||null===s)throw new Error("Please call start method before calling addFrame");var r=!0;try{t?e instanceof ImageData?(o=e.data,sizeset&&n==e.width&&i==e.height||C(e.width,e.height)):e instanceof Uint8ClampedArray?e.length==n*i*4?o=e:(console.log("Please set the correct size: ImageData length mismatch"),r=!1):(console.log("Please provide correct input"),r=!1):(o=e.getImageData(0,0,e.canvas.width,e.canvas.height).data,S||C(e.canvas.width,e.canvas.height)),x(),E(),I&&(M(),O(),h>=0&&P()),B(),""!==_&&k(),D(),I||O(),q(),I=!1}catch(e){r=!1}return r},m.download=function(e){if(null===s||0==p)console.log("Please call start method and add frames and call finish method before calling download");else{e=void 0!==e?e.endsWith(".gif")?e:e+".gif":"download.gif";var t=document.createElement("a");t.download=e,t.href=URL.createObjectURL(new Blob([new Uint8Array(s.bin)],{type:"image/gif"})),t.click()}},m.finish=function(){if(!v)return!1;var e=!0;v=!1;try{s.writeByte(59),p=!0}catch(t){e=!1}return e},function(){a=0,o=null,c=null,l=null,u=null,p=!1,I=!0}),C=(m.setFrameRate=function(e){15!=e&&(w=Math.round(100/e))},m.setQuality=function(e){e<1&&(e=1),L=e},m.setSize=function(e,t){v&&!I||((n=e)<1&&(n=320),(i=t)<1&&(i=240),S=!0)}),E=(m.start=function(){b();var e=!0;p=!1,s=new r;try{s.writeUTFBytes("GIF89a")}catch(t){e=!1}return v=e},m.cont=function(){return b(),p=!1,s=new r,v=!0},function(){var e=c.length,t=e/3;l=[];var r=new NeuQuant(c,e,L);u=r.process();for(var n=0,i=0;i<t;i++){var s=r.map(255&c[n++],255&c[n++],255&c[n++]);y[s]=!0,l[i]=s}c=null,d=8,F=7,null!==f&&(a=N(f))}),N=function(e){if(null===u)return-1;for(var t=(16711680&e)>>16,r=(65280&e)>>8,n=255&e,i=0,a=16777216,s=u.length,o=0;o<s;){var c=t-(255&u[o++]),l=r-(255&u[o++]),d=n-(255&u[o]),m=c*c+l*l+d*d,f=o/3;y[f]&&m<a&&(a=m,i=f),o++}return i},x=function(){var e=n,t=i;c=[];for(var r=o,a=0,s=0;s<t;s++)for(var l=0;l<e;l++){var d=s*e*4+4*l;c[a++]=r[d],c[a++]=r[d+1],c[a++]=r[d+2]}},B=function(){var e,t;s.writeByte(33),s.writeByte(249),s.writeByte(4),null===f?(e=0,t=0):(e=1,t=2),g>=0&&(t=7&g),t<<=2,s.writeByte(0|t|e),T(w),s.writeByte(a),s.writeByte(0)},k=function(){s.writeByte(33),s.writeByte(254),s.writeByte(_.length),s.writeUTFBytes(_),s.writeByte(0)},D=function(){s.writeByte(44),T(0),T(0),T(n),T(i),I?s.writeByte(0):s.writeByte(128|F)},M=function(){T(n),T(i),s.writeByte(240|F),s.writeByte(0),s.writeByte(0)},P=function(){s.writeByte(33),s.writeByte(255),s.writeByte(11),s.writeUTFBytes("NETSCAPE2.0"),s.writeByte(3),s.writeByte(1),T(h),s.writeByte(0)},O=function(){s.writeBytes(u);for(var e=768-u.length,t=0;t<e;t++)s.writeByte(0)},T=function(e){s.writeByte(255&e),s.writeByte(e>>8&255)},q=function(){new LZWEncoder(n,i,l,d).encode(s)};return m.stream=function(){return s},m.setProperties=function(e,t){v=e,I=t},m}},function(e,t,r){},function(e,t,r){"use strict";r.r(t);const n=["e","E"],i=["b","B"],a=["r","R"],s=["y","Y"],o=["g","G"],c=["+"],l=["-"],d=["d","D"],u="window__item_selected",m=document.getElementById("canvas"),f=document.querySelectorAll("#tools .window__item:not(.disabled)"),h=(document.querySelectorAll("#dimension_switcher .window__item:not(.disabled)"),document.querySelector("#curr-color")),w=document.querySelector(".frames"),v=document.querySelector("#animation-preview .window__content"),y=document.querySelector("#animation-preview .animation-speed__range"),F=document.querySelector("#animation-preview .animation-speed__fps"),g=document.getElementById("export-btn"),p=m.getContext("2d");let I=null;const S={curSessionFrames:[],curFrameIndex:0,addCssClassCurrentToFrame(e){w.children[e].classList.add("current-frame")},removeCssClassCurrentFromFrame(e){w.children[e].classList.remove("current-frame")},drawCurFrameInFrameList(){this.curSessionFrames[this.curFrameIndex]=m.toDataURL("image/png"),w.children[this.curFrameIndex].style=`background-image: url("${this.curSessionFrames[this.curFrameIndex]}")`},drawFramesSerialNumbersInFrameList(){for(let e=0;e<w.children.length;e+=1)w.children[e].querySelector(".frames__item-num").innerText=e+1},initFrameList(){for(let e=0;e<this.curSessionFrames.length;e+=1)w.insertAdjacentHTML("beforeend",'<li class="frames__item" draggable="true"><div class="frames__item-num">1</div><div class="frames__btn-del">-</div><div class="frames__btn-add">+</div><div class="frames__btn-copy">D</div></li>'),w.lastChild.style=`background-image: url("${this.curSessionFrames[e]}")`;this.drawFramesSerialNumbersInFrameList(),this.addCssClassCurrentToFrame(0)},addFrameToFrameList(e){w.children[e].insertAdjacentHTML("afterend",'<li class="frames__item" draggable="true"><div class="frames__item-num">1</div><div class="frames__btn-del">-</div><div class="frames__btn-add">+</div><div class="frames__btn-copy">D</div></li>')},removeFrameFromFrameList(e){w.children[e].remove()},getChildIndexInFrameList(e){for(let t=0;t<w.children.length;t+=1)if(w.children[t]===e)return t;return-1},drawNewFrameInCanvas(e){return new Promise(t=>{const r=new Image;r.crossOrigin="Anonymous",r.src=this.curSessionFrames[e],r.onload=()=>{p.fillStyle="gray",p.fillRect(0,0,512,512),p.drawImage(r,0,0,512,512),t()}})},drawClearFrameInCanvas(){p.fillStyle="gray",p.fillRect(0,0,512,512)},openFrame(e){const t=this.getChildIndexInFrameList(e);t!==this.curFrameIndex&&(this.curFrameIndex=t,this.drawNewFrameInCanvas(this.curFrameIndex))},deleteFrame(e){if(1!==w.children.length){const t=this.getChildIndexInFrameList(e.parentElement);this.curSessionFrames.splice(t,1),this.removeFrameFromFrameList(t),this.curFrameIndex===t?t===this.curSessionFrames.length?(this.drawNewFrameInCanvas(t-1),this.curFrameIndex-=1):this.drawNewFrameInCanvas(t):this.curFrameIndex>t&&(this.curFrameIndex-=1),this.drawFramesSerialNumbersInFrameList()}},addFrame(e){const t=this.getChildIndexInFrameList(e.parentElement);this.drawCurFrameInFrameList(),this.drawClearFrameInCanvas(),this.curSessionFrames.splice(t+1,0,m.toDataURL("image/png")),this.addFrameToFrameList(t),this.curFrameIndex=t+1,this.drawCurFrameInFrameList(),this.drawFramesSerialNumbersInFrameList()},duplicateFrame(e){const t=this.getChildIndexInFrameList(e.parentElement);this.addFrameToFrameList(t),this.curSessionFrames.splice(t+1,0,this.curSessionFrames[t]),this.curFrameIndex=t+1,this.drawFramesSerialNumbersInFrameList(),this.drawNewFrameInCanvas(t).then(()=>{this.drawCurFrameInFrameList()})}};setInterval(()=>{S.drawCurFrameInFrameList()},1e3),w.addEventListener("click",e=>{const{target:t}=e;S.removeCssClassCurrentFromFrame(S.curFrameIndex),t.classList.contains("frames__item")?S.openFrame(t):t.classList.contains("frames__btn-del")?S.deleteFrame(t):t.classList.contains("frames__btn-add")?S.addFrame(t):t.classList.contains("frames__btn-copy")&&S.duplicateFrame(t),S.addCssClassCurrentToFrame(S.curFrameIndex)}),w.addEventListener("dragstart",e=>{I=S.getChildIndexInFrameList(e.target)}),w.addEventListener("dragenter",e=>{e.target.classList.add("dragover")}),w.addEventListener("dragover",e=>(e.preventDefault(),e.dataTransfer.dropEffect="move",!1)),w.addEventListener("dragleave",e=>{e.target.classList.remove("dragover")}),w.addEventListener("drop",e=>{e.stopPropagation();const t=S.getChildIndexInFrameList(e.target);if(I!==t){const e=w.children;I<t?w.insertBefore(e[I],e[t].nextSibling):w.insertBefore(e[I],e[t]),S.curFrameIndex=S.getChildIndexInFrameList(w.querySelector(".current-frame"));const r=S.curSessionFrames.splice(I,1)[0];S.curSessionFrames.splice(t,0,r),S.drawFramesSerialNumbersInFrameList()}return!1}),w.addEventListener("dragend",()=>{for(let e=0;e<w.children.length;e+=1)w.children[e].classList.remove("dragover")});var L=S;const _={curPreviewFrameIndex:-1,previewRefreshPeriod:1e3,isPreviewRunning:!1,previewDrawInterval:null,drawNextFrameInPreview(){this.curPreviewFrameIndex+=1,L.curSessionFrames.length<=this.curPreviewFrameIndex&&(this.curPreviewFrameIndex=0),v.style=`background-image: url("${L.curSessionFrames[this.curPreviewFrameIndex]}")`}};y.addEventListener("input",()=>{F.innerText=y.value}),y.addEventListener("change",()=>{const e=parseInt(y.value,10);0===e?(_.isPreviewRunning=!1,_.previewRefreshPeriod=1e3):(_.isPreviewRunning=!0,_.previewRefreshPeriod=1e3/e),clearInterval(_.previewDrawInterval),_.previewDrawInterval=setInterval(()=>{_.isPreviewRunning&&_.drawNextFrameInPreview()},_.previewRefreshPeriod)}),v.addEventListener("click",()=>{v.requestFullscreen()}),v.onfullscreenchange=function(){v.classList.toggle("fullscreen")};var b=_,C={loadCurrentColor(){const e=localStorage.getItem("current-color");let t;return e&&"null"!==e?(t=JSON.parse(e),document.querySelector('.window__item[color="curr-color"] .window__color').value=t,t):"#e58719"},loadDimensionLen(){const e=localStorage.getItem("dimensionLen");let t;if(e&&"null"!==e){switch(t=JSON.parse(e),t){case"DIMENSION_SMALL":t=32,document.querySelector('.window__item[dimension="DIMENSION_SMALL"]').classList.add(u);break;case"DIMENSION_MEDIUM":t=64,document.querySelector('.window__item[dimension="DIMENSION_MEDIUM"]').classList.add(u);break;case"DIMENSION_LARGE":t=128,document.querySelector('.window__item[dimension="DIMENSION_LARGE"]').classList.add(u);break;default:t=32,document.querySelector('.window__item[dimension="DIMENSION_SMALL"]').classList.add(u)}p.fillStyle="gray",p.fillRect(0,0,512,512)}else t=32,document.querySelector('.window__item[dimension="DIMENSION_SMALL"]').classList.add(u),p.fillStyle="gray",p.fillRect(0,0,512,512);return t},loadCurSessionFrames(){const e=localStorage.getItem("curSessionFrames");e&&"null"!==e?(L.curSessionFrames=JSON.parse(e),L.drawNewFrameInCanvas(0)):L.curSessionFrames.push(m.toDataURL("image/png"))},saveAll(e,t){switch(e){case 32:localStorage.setItem("dimensionLen",JSON.stringify("DIMENSION_SMALL"));break;case 64:localStorage.setItem("dimensionLen",JSON.stringify("DIMENSION_MEDIUM"));break;case 128:localStorage.setItem("dimensionLen",JSON.stringify("DIMENSION_LARGE"));break;default:localStorage.setItem("dimensionLen",JSON.stringify("DIMENSION_SMALL"))}L.drawCurFrameInFrameList(),localStorage.setItem("curSessionFrames",JSON.stringify(L.curSessionFrames)),localStorage.setItem("current-color",JSON.stringify(t))}};function E(e,t,r,n){let i,a;for(i=0;i<r&&!(i>t);i+=n);for(a=0;a<r&&!(a>e);a+=n);return{rightX:a,bottomY:i}}g.addEventListener("click",()=>{const e=new GIFEncoder;e.setRepeat(0),e.setDelay(b.previewRefreshPeriod),e.start();const t=[];for(let r=L.curFrameIndex;r<L.curSessionFrames.length;r+=1)t.push(L.drawNewFrameInCanvas(r).then(()=>{e.addFrame(p)}));for(let r=0;r<L.curFrameIndex;r+=1)t.push(L.drawNewFrameInCanvas(r).then(()=>{e.addFrame(p)}));Promise.all(t).then(()=>{L.drawNewFrameInCanvas(L.curFrameIndex),e.finish(),e.download("download.gif")})});let N,x,B=!1;function k(e,t){return function(e){let t=e[0].toString(16),r=e[1].toString(16),n=e[2].toString(16);return 1===t.length&&(t=`0${t}`),1===r.length&&(r=`0${r}`),1===n.length&&(n=`0${n}`),`#${t}${r}${n}`}(p.getImageData(e,t,1,1).data)}m.width=512,m.height=512;const D={currentColor:"#e58719",dimensionLen:32,selectedTool:"pencil",pencilUnit:1,eraserUnit:2,init(){this.dimensionLen=C.loadDimensionLen(),this.currentColor=C.loadCurrentColor()},pencilFunc(e,t,r,n){const i=512/this.dimensionLen;let{rightX:a,bottomY:s}=E(e,t,m.width,i);n>2&&(a+=i,s+=i),p.fillStyle=r,p.fillRect(a-n*i,s-n*i,n*i+1,n*i+1)},fillBucketFunc(e,t){const r=512/this.dimensionLen,{rightX:n,bottomY:i}=E(e,t,m.width,r),a=k(n-r/2,i-r/2);p.fillStyle=this.currentColor,function(e,t,r,n,i){const a=[];for(a.push({x:e,y:t});0!==a.length;){const{x:e,y:t}=a.pop();n(e,t),i(e+r,t)&&a.push({x:e+r,y:t}),i(e-r,t)&&a.push({x:e-r,y:t}),i(e,t+r)&&a.push({x:e,y:t+r}),i(e,t-r)&&a.push({x:e,y:t-r})}}(n-r/2,i-r/2,r,(e,t)=>{p.fillRect(e-r/2,t-r/2,r+1,r+1)},(e,t)=>e>0&&e<512&&t>0&&t<512&&a!==this.currentColor&&a===k(e,t))},eyeDropperFunc(e,t){document.querySelector(".window__item_selected").classList.remove(u),document.querySelector('.window__item[tool="pencil"]').classList.add(u),this.selectedTool="pencil",h.value=k(e,t),this.currentColor=h.value}};m.addEventListener("mousedown",e=>{switch(B=!0,N=e.clientX-m.offsetLeft,x=e.clientY-m.offsetTop,D.selectedTool){case"pencil":D.pencilFunc(N,x,D.currentColor,D.pencilUnit);break;case"fill-drip":D.fillBucketFunc(N,x,N,x);break;case"eye-dropper":D.eyeDropperFunc(N,x);break;case"eraser":D.pencilFunc(N,x,"gray",D.eraserUnit)}}),m.addEventListener("mousemove",e=>{if(B){switch(D.selectedTool){case"pencil":D.pencilFunc(e.clientX-m.offsetLeft,e.clientY-m.offsetTop,D.currentColor,D.pencilUnit);break;case"eraser":D.pencilFunc(e.clientX-m.offsetLeft,e.clientY-m.offsetTop,"gray",D.eraserUnit)}N=e.clientX-m.offsetLeft,x=e.clientY-m.offsetTop}}),document.addEventListener("mouseup",()=>{B=!1,N=void 0,x=void 0});var M=D;f.forEach(e=>{e.addEventListener("click",()=>{e.hasAttribute("tool")&&(e.classList.contains(u)||(e.parentElement.querySelector(".window__item_selected").classList.remove(u),e.classList.add(u),M.selectedTool=e.getAttribute("tool")))})}),M.init(),C.loadCurSessionFrames(),L.initFrameList(),b.drawNextFrameInPreview(),document.addEventListener("keydown",e=>{var t;(t=e).key===n[0]||t.key===n[1]?document.querySelector('.window__item[tool="pencil"]').dispatchEvent(new Event("click")):t.key===s[0]||t.key===s[1]?document.querySelector('.window__item[tool="eye-dropper"]').dispatchEvent(new Event("click")):t.key===i[0]||t.key===i[1]?document.querySelector('.window__item[tool="fill-drip"]').dispatchEvent(new Event("click")):t.key===a[0]||t.key===a[1]?document.querySelector('.window__item[tool="eraser"]').dispatchEvent(new Event("click")):t.key===o[0]||t.key===o[1]?document.querySelector("#export-btn").dispatchEvent(new Event("click")):t.key===c[0]?document.querySelector(".frames .current-frame .frames__btn-add").click():t.key===l[0]?document.querySelector(".frames .current-frame .frames__btn-del").click():t.key!==d[0]&&t.key!==d[1]||document.querySelector(".frames .current-frame .frames__btn-copy").click()}),h.addEventListener("change",()=>{M.currentColor=h.value}),window.addEventListener("beforeunload",()=>{C.saveAll(M.dimensionLen,M.currentColor)})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vanNnaWYtbWFzdGVyL0xaV0VuY29kZXIuanMiLCJ3ZWJwYWNrOi8vLy4vanNnaWYtbWFzdGVyL05ldVF1YW50LmpzIiwid2VicGFjazovLy8uL2pzZ2lmLW1hc3Rlci9HSUZFbmNvZGVyLmpzIiwid2VicGFjazovLy8uL2pzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly8vLi9qcy9odG1sLXZhcmlhYmxlcy5qcyIsIndlYnBhY2s6Ly8vLi9qcy9mcmFtZWxpc3QuanMiLCJ3ZWJwYWNrOi8vLy4vanMvcHJldmlldy5qcyIsIndlYnBhY2s6Ly8vLi9qcy9zdG9yYWdlLmpzIiwid2VicGFjazovLy8uL2pzL3V0aWxzLmpzIiwid2VicGFjazovLy8uL2pzL2V4cG9ydC5qcyIsIndlYnBhY2s6Ly8vLi9qcy9jYW52YXMuanMiLCJ3ZWJwYWNrOi8vLy4vanMvdG9vbEl0ZW1zSGFuZGxlci5qcyIsIndlYnBhY2s6Ly8vLi9qcy9zY3JpcHQuanMiLCJ3ZWJwYWNrOi8vLy4vanMva2V5Ym9hcmQuanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJMWldFbmNvZGVyIiwiaW1nVyIsImltZ0giLCJwaXhBcnkiLCJpbml0Q29kZVNpemUiLCJyZW1haW5pbmciLCJjdXJQaXhlbCIsIm5fYml0cyIsIm1heGNvZGUiLCJnX2luaXRfYml0cyIsIkNsZWFyQ29kZSIsIkVPRkNvZGUiLCJhX2NvdW50IiwiRU9GIiwiQklUUyIsIkhTSVpFIiwibWF4Yml0cyIsIm1heG1heGNvZGUiLCJodGFiIiwiY29kZXRhYiIsImhzaXplIiwiZnJlZV9lbnQiLCJjbGVhcl9mbGciLCJjdXJfYWNjdW0iLCJjdXJfYml0cyIsIm1hc2tzIiwiYWNjdW0iLCJ3aWR0aCIsImhlaWdodCIsInBpeGVscyIsImNvbG9yX2RlcHRoIiwiTWF0aCIsIm1heCIsImNoYXJfb3V0Iiwib3V0cyIsImZsdXNoX2NoYXIiLCJjbF9ibG9jayIsImNsX2hhc2giLCJvdXRwdXQiLCJjb21wcmVzcyIsImluaXRfYml0cyIsImZjb2RlIiwiZW50IiwiZGlzcCIsImhzaXplX3JlZyIsImhzaGlmdCIsIk1BWENPREUiLCJuZXh0UGl4ZWwiLCJvdXRlcl9sb29wIiwiZW5jb2RlIiwib3MiLCJ3cml0ZUJ5dGUiLCJ3cml0ZUJ5dGVzIiwiY29kZSIsImFwcGx5IiwidGhpcyIsImFyZ3VtZW50cyIsIk5ldVF1YW50IiwiYWxwaGFkZWMiLCJ0aGVwaWN0dXJlIiwibGVuZ3RoY291bnQiLCJzYW1wbGVmYWMiLCJuZXR3b3JrIiwibmV0c2l6ZSIsInByaW1lMSIsInByaW1lMiIsInByaW1lMyIsInByaW1lNCIsIm1pbnBpY3R1cmVieXRlcyIsIm1heG5ldHBvcyIsIm5ldGJpYXNzaGlmdCIsIm5jeWNsZXMiLCJpbnRiaWFzc2hpZnQiLCJpbnRiaWFzIiwiZ2FtbWFzaGlmdCIsImJldGFzaGlmdCIsImJldGEiLCJiZXRhZ2FtbWEiLCJpbml0cmFkIiwicmFkaXVzYmlhc3NoaWZ0IiwicmFkaXVzYmlhcyIsImluaXRyYWRpdXMiLCJyYWRpdXNkZWMiLCJhbHBoYWJpYXNzaGlmdCIsImluaXRhbHBoYSIsInJhZGJpYXNzaGlmdCIsInJhZGJpYXMiLCJhbHBoYXJhZGJzaGlmdCIsImFscGhhcmFkYmlhcyIsIm5ldGluZGV4IiwiYmlhcyIsImZyZXEiLCJyYWRwb3dlciIsInRoZXBpYyIsImxlbiIsInNhbXBsZSIsIkFycmF5IiwiY29sb3JNYXAiLCJtYXAiLCJpbmRleCIsImsiLCJqIiwiaW54YnVpbGQiLCJzbWFsbHBvcyIsInNtYWxsdmFsIiwicSIsInByZXZpb3VzY29sIiwic3RhcnRwb3MiLCJsZWFybiIsImIiLCJnIiwicmFkaXVzIiwicmFkIiwiYWxwaGEiLCJzdGVwIiwiZGVsdGEiLCJzYW1wbGVwaXhlbHMiLCJwaXgiLCJsaW0iLCJjb250ZXN0IiwiYWx0ZXJzaW5nbGUiLCJhbHRlcm5laWdoIiwidW5iaWFzbmV0IiwiZGlzdCIsImEiLCJiZXN0ZCIsImJlc3QiLCJwcm9jZXNzIiwibG8iLCJoaSIsImUiLCJiaWFzZGlzdCIsImJldGFmcmVxIiwiYmVzdHBvcyIsImJlc3RiaWFzcG9zIiwiYmVzdGJpYXNkIiwiR0lGRW5jb2RlciIsImNociIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsIkJ5dGVBcnJheSIsImJpbiIsImdldERhdGEiLCJ2IiwibGVuZ3RoIiwidmFsIiwicHVzaCIsIndyaXRlVVRGQnl0ZXMiLCJzdHJpbmciLCJjaGFyQ29kZUF0IiwiYXJyYXkiLCJvZmZzZXQiLCJ0cmFuc0luZGV4Iiwib3V0IiwiaW1hZ2UiLCJpbmRleGVkUGl4ZWxzIiwiY29sb3JEZXB0aCIsImNvbG9yVGFiIiwidHJhbnNwYXJlbnQiLCJyZXBlYXQiLCJkZWxheSIsInN0YXJ0ZWQiLCJ1c2VkRW50cnkiLCJwYWxTaXplIiwiZGlzcG9zZSIsImNsb3NlU3RyZWFtIiwiZmlyc3RGcmFtZSIsInNpemVTZXQiLCJjb21tZW50IiwicmVzZXQiLCJzZXREZWxheSIsIm1zIiwicm91bmQiLCJzZXREaXNwb3NlIiwic2V0UmVwZWF0IiwiaXRlciIsInNldFRyYW5zcGFyZW50Iiwic2V0Q29tbWVudCIsImFkZEZyYW1lIiwiaW0iLCJpc19pbWFnZURhdGEiLCJFcnJvciIsIm9rIiwiSW1hZ2VEYXRhIiwiZGF0YSIsInNpemVzZXQiLCJzZXRTaXplIiwiVWludDhDbGFtcGVkQXJyYXkiLCJjb25zb2xlIiwibG9nIiwiZ2V0SW1hZ2VEYXRhIiwiY2FudmFzIiwiZ2V0SW1hZ2VQaXhlbHMiLCJhbmFseXplUGl4ZWxzIiwid3JpdGVMU0QiLCJ3cml0ZVBhbGV0dGUiLCJ3cml0ZU5ldHNjYXBlRXh0Iiwid3JpdGVHcmFwaGljQ3RybEV4dCIsIndyaXRlQ29tbWVudEV4dCIsIndyaXRlSW1hZ2VEZXNjIiwid3JpdGVQaXhlbHMiLCJkb3dubG9hZCIsImZpbGVuYW1lIiwiZW5kc1dpdGgiLCJ0ZW1wbGluayIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImhyZWYiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJCbG9iIiwiVWludDhBcnJheSIsInR5cGUiLCJjbGljayIsImZpbmlzaCIsInNldEZyYW1lUmF0ZSIsImZwcyIsInNldFF1YWxpdHkiLCJxdWFsaXR5IiwidyIsImgiLCJzdGFydCIsImNvbnQiLCJuUGl4IiwibnEiLCJmaW5kQ2xvc2VzdCIsIm1pbnBvcyIsImRtaW4iLCJkciIsImRnIiwiZGIiLCJjb3VudCIsInRyYW5zcCIsIldyaXRlU2hvcnQiLCJwVmFsdWUiLCJzdHJlYW0iLCJzZXRQcm9wZXJ0aWVzIiwiaGFzX3N0YXJ0IiwiaXNfZmlyc3QiLCJIT1RLRVlTX1BFTkNJTCIsIkhPVEtFWVNfQ09MT1JfQlVDS0VUIiwiSE9US0VZU19FUkFTRVIiLCJIT1RLRVlTX0VZRV9EUk9QUEVSIiwiSE9US0VZU19HSUZfRVhQT1JUIiwiSE9US0VZU19BRERfRlJBTUUiLCJIT1RLRVlTX0RFTEVURV9GUkFNRSIsIkhPVEtFWVNfRFVQTElDQVRFX0ZSQU1FIiwiU0VMRUNURURfSVRFTV9DTEFTUyIsImh0bWxDYW52YXMiLCJnZXRFbGVtZW50QnlJZCIsImh0bWxUb29sSXRlbXMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaHRtbEN1ckNvbG9ySW5wdXQiLCJxdWVyeVNlbGVjdG9yIiwiaHRtbEZyYW1lTGlzdCIsImh0bWxQcmV2aWV3IiwiaHRtbFByZXZpZXdTcGVlZFJhbmdlIiwiaHRtbFByZXZpZXdTcGVlZEZwcyIsImh0bWxFeHBvcnRCdG4iLCJjdHgiLCJnZXRDb250ZXh0IiwiZHJhZ2dlZEZyb21GcmFtZUluZGV4IiwiZnJhbWVzT2JqZWN0IiwiY3VyU2Vzc2lvbkZyYW1lcyIsImN1ckZyYW1lSW5kZXgiLCJjaGlsZHJlbiIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSIsInRvRGF0YVVSTCIsInN0eWxlIiwiaW5uZXJUZXh0IiwiaW5zZXJ0QWRqYWNlbnRIVE1MIiwibGFzdENoaWxkIiwiZHJhd0ZyYW1lc1NlcmlhbE51bWJlcnNJbkZyYW1lTGlzdCIsImFkZENzc0NsYXNzQ3VycmVudFRvRnJhbWUiLCJjaGlsZE5vZGUiLCJQcm9taXNlIiwicmVzb2x2ZSIsIkltYWdlIiwiY3Jvc3NPcmlnaW4iLCJzcmMiLCJvbmxvYWQiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsImRyYXdJbWFnZSIsInRhcmdldCIsImluZGV4T2ZDbGlja2VkRnJhbWUiLCJnZXRDaGlsZEluZGV4SW5GcmFtZUxpc3QiLCJkcmF3TmV3RnJhbWVJbkNhbnZhcyIsInBhcmVudEVsZW1lbnQiLCJzcGxpY2UiLCJyZW1vdmVGcmFtZUZyb21GcmFtZUxpc3QiLCJkcmF3Q3VyRnJhbWVJbkZyYW1lTGlzdCIsImRyYXdDbGVhckZyYW1lSW5DYW52YXMiLCJhZGRGcmFtZVRvRnJhbWVMaXN0IiwidGhlbiIsInNldEludGVydmFsIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwicmVtb3ZlQ3NzQ2xhc3NDdXJyZW50RnJvbUZyYW1lIiwiY29udGFpbnMiLCJvcGVuRnJhbWUiLCJkZWxldGVGcmFtZSIsImR1cGxpY2F0ZUZyYW1lIiwicHJldmVudERlZmF1bHQiLCJkYXRhVHJhbnNmZXIiLCJkcm9wRWZmZWN0Iiwic3RvcFByb3BhZ2F0aW9uIiwiZHJhZ2dlZFRvRnJhbWVJbmRleCIsImZyYW1lcyIsImluc2VydEJlZm9yZSIsIm5leHRTaWJsaW5nIiwiY3V0dGVkRnJhbWUiLCJwcmV2aWV3T2JqZWN0IiwiY3VyUHJldmlld0ZyYW1lSW5kZXgiLCJwcmV2aWV3UmVmcmVzaFBlcmlvZCIsImlzUHJldmlld1J1bm5pbmciLCJwcmV2aWV3RHJhd0ludGVydmFsIiwicGFyc2VJbnQiLCJjbGVhckludGVydmFsIiwiZHJhd05leHRGcmFtZUluUHJldmlldyIsInJlcXVlc3RGdWxsc2NyZWVuIiwib25mdWxsc2NyZWVuY2hhbmdlIiwidG9nZ2xlIiwicHJldmlldyIsInN0b3JhZ2UiLCJsb2FkZWRDdXJyZW50Q29sb3IiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiY3VycmVudENvbG9yIiwiSlNPTiIsInBhcnNlIiwibG9hZGVkRGltZW5zaW9uTGVuIiwiZGltZW5zaW9uTGVuIiwibG9hZGVkQ3VyU2Vzc2lvbkZyYW1lcyIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJnZXRCb3R0b21ZQW5kUmlnaHRYT2ZQaXhlbCIsIm5ld1giLCJuZXdZIiwiY2FudmFzU2l6ZSIsImJvdHRvbVkiLCJyaWdodFgiLCJlbmNvZGVyIiwicHJvbWlzZUFycmF5IiwiYWxsIiwibGFzdFgiLCJsYXN0WSIsImlzQ2FudmFzQ2xpY2tlZCIsImdldENhbnZhc1BpeGVsQ29sb3IiLCJ4IiwieSIsInBpeGVsRGF0YSIsInRvU3RyaW5nIiwiY2FudmFzT2JqZWN0Iiwic2VsZWN0ZWRUb29sIiwicGVuY2lsVW5pdCIsImVyYXNlclVuaXQiLCJsb2FkRGltZW5zaW9uTGVuIiwibG9hZEN1cnJlbnRDb2xvciIsImNvbG9yIiwidW5pdCIsIm9sZENvbG9yIiwiZmlsbFNxdWFyZSIsImNoZWNrVmFsaWRpdHkiLCJ4MSIsInkxIiwicG9wIiwiY2VudGVyWCIsImNlbnRlclkiLCJjbGllbnRYIiwib2Zmc2V0TGVmdCIsImNsaWVudFkiLCJvZmZzZXRUb3AiLCJwZW5jaWxGdW5jIiwiZmlsbEJ1Y2tldEZ1bmMiLCJleWVEcm9wcGVyRnVuYyIsImZvckVhY2giLCJ3aW5kb3dUb29sSXRlbSIsImhhc0F0dHJpYnV0ZSIsImdldEF0dHJpYnV0ZSIsImluaXQiLCJsb2FkQ3VyU2Vzc2lvbkZyYW1lcyIsImluaXRGcmFtZUxpc3QiLCJkaXNwYXRjaEV2ZW50IiwiRXZlbnQiLCJ3aW5kb3ciLCJzYXZlQWxsIl0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRUEsRUFDRkgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxLQUdBRixFQUFPRCxRQUtmRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxFQUFTUyxJQUNsQ0csT0FBT0MsZUFBZWIsRUFBU1MsRUFBTSxDQUFFSyxZQUFXQSxFQUFPQyxJQUFLTCxLQUtoRVosRUFBb0JrQixFQUFJLFNBQVNoQixHQUNYLG9CQUFYaUIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFlYixFQUFTaUIsT0FBT0MsWUFBYSxDQUFFQyxNQUFPLFdBRTdEUCxPQUFPQyxlQUFlYixFQUFTLGFBQWMsQ0FBRW1CLE9BQU1BLEtBUXREckIsRUFBb0JzQixFQUFJLFNBQVNELEVBQU9FLEdBRXZDLEdBRFUsRUFBUEEsSUFBVUYsRUFBUXJCLEVBQW9CcUIsSUFDL0IsRUFBUEUsRUFBVSxPQUFPRixFQUNwQixHQUFXLEVBQVBFLEdBQThCLGlCQUFWRixHQUFzQkEsR0FBU0EsRUFBTUcsV0FBWSxPQUFPSCxFQUNoRixJQUFJSSxFQUFLWCxPQUFPWSxPQUFPLE1BR3ZCLEdBRkExQixFQUFvQmtCLEVBQUVPLEdBQ3RCWCxPQUFPQyxlQUFlVSxFQUFJLFVBQVcsQ0FBRVQsWUFBV0EsRUFB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SSxjQUFjLElBQUlDLE1BQU0sVUFDMUV2RixFQUFNcFQsTUFBUTBQLEVBQWUsSUFBTTBELEVBQU1wVCxNQUFRMFAsRUFBZSxHQUN6RXBDLFNBQVNnRCxjQUFjLGdDQUFpQ29JLGNBQWMsSUFBSUMsTUFBTSxVQUN2RXZGLEVBQU1wVCxNQUFRNFAsRUFBbUIsSUFBTXdELEVBQU1wVCxNQUFRNFAsRUFBbUIsR0FDakZ0QyxTQUFTZ0QsY0FBYyxlQUFlb0ksY0FBYyxJQUFJQyxNQUFNLFVBQ3JEdkYsRUFBTXBULE1BQVE2UCxFQUFrQixHQUN6Q3ZDLFNBQVNnRCxjQUFjLDJDQUEyQ3hDLFFBQ3pEc0YsRUFBTXBULE1BQVE4UCxFQUFxQixHQUM1Q3hDLFNBQVNnRCxjQUFjLDJDQUEyQ3hDLFFBQ3pEc0YsRUFBTXBULE1BQVErUCxFQUF3QixJQUFNcUQsRUFBTXBULE1BQVErUCxFQUF3QixJQUMzRnpDLFNBQVNnRCxjQUFjLDRDQUE0Q3hDLFVERXZFdUMsRUFBa0I4QyxpQkFBaUIsU0FBVSxLQUMzQzNHLEVBQWMySSxhQUFlOUUsRUFBa0IzUSxRQUtqRGtaLE9BQU96RixpQkFBaUIsZUFBZ0IsS0FDdEM0QixFQUFlOEQsUUFBUXJNLEVBQWMrSSxhQUFjL0ksRUFBYzJJIiwiZmlsZSI6ImpzL2FwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiLi4vXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsIi8qKlxyXG4gKiBUaGlzIGNsYXNzIGhhbmRsZXMgTFpXIGVuY29kaW5nXHJcbiAqIEFkYXB0ZWQgZnJvbSBKZWYgUG9za2FuemVyJ3MgSmF2YSBwb3J0IGJ5IHdheSBvZiBKLiBNLiBHLiBFbGxpb3R0LlxyXG4gKiBAYXV0aG9yIEtldmluIFdlaW5lciAob3JpZ2luYWwgSmF2YSB2ZXJzaW9uIC0ga3dlaW5lckBmbXN3YXJlLmNvbSlcclxuICogQGF1dGhvciBUaGliYXVsdCBJbWJlcnQgKEFTMyB2ZXJzaW9uIC0gYnl0ZWFycmF5Lm9yZylcclxuICogQGF1dGhvciBLZXZpbiBLd29rIChKYXZhU2NyaXB0IHZlcnNpb24gLSBodHRwczovL2dpdGh1Yi5jb20vYW50aW1hdHRlcjE1L2pzZ2lmKVxyXG4gKiBAdmVyc2lvbiAwLjEgQVMzIGltcGxlbWVudGF0aW9uXHJcbiAqL1xyXG5cclxuTFpXRW5jb2RlciA9IGZ1bmN0aW9uKCkge1xyXG5cclxuXHR2YXIgZXhwb3J0cyA9IHt9O1xyXG5cdHZhciBFT0YgPSAtMTtcclxuXHR2YXIgaW1nVztcclxuXHR2YXIgaW1nSDtcclxuXHR2YXIgcGl4QXJ5O1xyXG5cdHZhciBpbml0Q29kZVNpemU7XHJcblx0dmFyIHJlbWFpbmluZztcclxuXHR2YXIgY3VyUGl4ZWw7XHJcblxyXG5cdC8vIEdJRkNPTVBSLkMgLSBHSUYgSW1hZ2UgY29tcHJlc3Npb24gcm91dGluZXNcclxuXHQvLyBMZW1wZWwtWml2IGNvbXByZXNzaW9uIGJhc2VkIG9uICdjb21wcmVzcycuIEdJRiBtb2RpZmljYXRpb25zIGJ5XHJcblx0Ly8gRGF2aWQgUm93bGV5IChtZ2FyZGlAd2F0ZGNzdS53YXRlcmxvby5lZHUpXHJcblx0Ly8gR2VuZXJhbCBERUZJTkVzXHJcblxyXG5cdHZhciBCSVRTID0gMTI7XHJcblx0dmFyIEhTSVpFID0gNTAwMzsgLy8gODAlIG9jY3VwYW5jeVxyXG5cclxuXHQvLyBHSUYgSW1hZ2UgY29tcHJlc3Npb24gLSBtb2RpZmllZCAnY29tcHJlc3MnXHJcblx0Ly8gQmFzZWQgb246IGNvbXByZXNzLmMgLSBGaWxlIGNvbXByZXNzaW9uIGFsYSBJRUVFIENvbXB1dGVyLCBKdW5lIDE5ODQuXHJcblx0Ly8gQnkgQXV0aG9yczogU3BlbmNlciBXLiBUaG9tYXMgKGRlY3ZheCFoYXJwbyF1dGFoLWNzIXV0YWgtZ3IhdGhvbWFzKVxyXG5cdC8vIEppbSBNY0tpZSAoZGVjdmF4IW1jdmF4IWppbSlcclxuXHQvLyBTdGV2ZSBEYXZpZXMgKGRlY3ZheCF2YXgxMzUhcGV0c2QhcGVvcmEhc3JkKVxyXG5cdC8vIEtlbiBUdXJrb3dza2kgKGRlY3ZheCFkZWN3cmwhdHVydGxldmF4IWtlbilcclxuXHQvLyBKYW1lcyBBLiBXb29kcyAoZGVjdmF4IWlobnA0IWFtZXMhamF3KVxyXG5cdC8vIEpvZSBPcm9zdCAoZGVjdmF4IXZheDEzNSFwZXRzZCFqb2UpXHJcblxyXG5cdHZhciBuX2JpdHM7IC8vIG51bWJlciBvZiBiaXRzL2NvZGVcclxuXHR2YXIgbWF4Yml0cyA9IEJJVFM7IC8vIHVzZXIgc2V0dGFibGUgbWF4ICMgYml0cy9jb2RlXHJcblx0dmFyIG1heGNvZGU7IC8vIG1heGltdW0gY29kZSwgZ2l2ZW4gbl9iaXRzXHJcblx0dmFyIG1heG1heGNvZGUgPSAxIDw8IEJJVFM7IC8vIHNob3VsZCBORVZFUiBnZW5lcmF0ZSB0aGlzIGNvZGVcclxuXHR2YXIgaHRhYiA9IFtdO1xyXG5cdHZhciBjb2RldGFiID0gW107XHJcblx0dmFyIGhzaXplID0gSFNJWkU7IC8vIGZvciBkeW5hbWljIHRhYmxlIHNpemluZ1xyXG5cdHZhciBmcmVlX2VudCA9IDA7IC8vIGZpcnN0IHVudXNlZCBlbnRyeVxyXG5cclxuXHQvLyBibG9jayBjb21wcmVzc2lvbiBwYXJhbWV0ZXJzIC0tIGFmdGVyIGFsbCBjb2RlcyBhcmUgdXNlZCB1cCxcclxuXHQvLyBhbmQgY29tcHJlc3Npb24gcmF0ZSBjaGFuZ2VzLCBzdGFydCBvdmVyLlxyXG5cclxuXHR2YXIgY2xlYXJfZmxnID0gZmFsc2U7XHJcblxyXG5cdC8vIEFsZ29yaXRobTogdXNlIG9wZW4gYWRkcmVzc2luZyBkb3VibGUgaGFzaGluZyAobm8gY2hhaW5pbmcpIG9uIHRoZVxyXG5cdC8vIHByZWZpeCBjb2RlIC8gbmV4dCBjaGFyYWN0ZXIgY29tYmluYXRpb24uIFdlIGRvIGEgdmFyaWFudCBvZiBLbnV0aCdzXHJcblx0Ly8gYWxnb3JpdGhtIEQgKHZvbC4gMywgc2VjLiA2LjQpIGFsb25nIHdpdGggRy4gS25vdHQncyByZWxhdGl2ZWx5LXByaW1lXHJcblx0Ly8gc2Vjb25kYXJ5IHByb2JlLiBIZXJlLCB0aGUgbW9kdWxhciBkaXZpc2lvbiBmaXJzdCBwcm9iZSBpcyBnaXZlcyB3YXlcclxuXHQvLyB0byBhIGZhc3RlciBleGNsdXNpdmUtb3IgbWFuaXB1bGF0aW9uLiBBbHNvIGRvIGJsb2NrIGNvbXByZXNzaW9uIHdpdGhcclxuXHQvLyBhbiBhZGFwdGl2ZSByZXNldCwgd2hlcmVieSB0aGUgY29kZSB0YWJsZSBpcyBjbGVhcmVkIHdoZW4gdGhlIGNvbXByZXNzaW9uXHJcblx0Ly8gcmF0aW8gZGVjcmVhc2VzLCBidXQgYWZ0ZXIgdGhlIHRhYmxlIGZpbGxzLiBUaGUgdmFyaWFibGUtbGVuZ3RoIG91dHB1dFxyXG5cdC8vIGNvZGVzIGFyZSByZS1zaXplZCBhdCB0aGlzIHBvaW50LCBhbmQgYSBzcGVjaWFsIENMRUFSIGNvZGUgaXMgZ2VuZXJhdGVkXHJcblx0Ly8gZm9yIHRoZSBkZWNvbXByZXNzb3IuIExhdGUgYWRkaXRpb246IGNvbnN0cnVjdCB0aGUgdGFibGUgYWNjb3JkaW5nIHRvXHJcblx0Ly8gZmlsZSBzaXplIGZvciBub3RpY2VhYmxlIHNwZWVkIGltcHJvdmVtZW50IG9uIHNtYWxsIGZpbGVzLiBQbGVhc2UgZGlyZWN0XHJcblx0Ly8gcXVlc3Rpb25zIGFib3V0IHRoaXMgaW1wbGVtZW50YXRpb24gdG8gYW1lcyFqYXcuXHJcblxyXG5cdHZhciBnX2luaXRfYml0cztcclxuXHR2YXIgQ2xlYXJDb2RlO1xyXG5cdHZhciBFT0ZDb2RlO1xyXG5cclxuXHQvLyBvdXRwdXRcclxuXHQvLyBPdXRwdXQgdGhlIGdpdmVuIGNvZGUuXHJcblx0Ly8gSW5wdXRzOlxyXG5cdC8vIGNvZGU6IEEgbl9iaXRzLWJpdCBpbnRlZ2VyLiBJZiA9PSAtMSwgdGhlbiBFT0YuIFRoaXMgYXNzdW1lc1xyXG5cdC8vIHRoYXQgbl9iaXRzID08IHdvcmRzaXplIC0gMS5cclxuXHQvLyBPdXRwdXRzOlxyXG5cdC8vIE91dHB1dHMgY29kZSB0byB0aGUgZmlsZS5cclxuXHQvLyBBc3N1bXB0aW9uczpcclxuXHQvLyBDaGFycyBhcmUgOCBiaXRzIGxvbmcuXHJcblx0Ly8gQWxnb3JpdGhtOlxyXG5cdC8vIE1haW50YWluIGEgQklUUyBjaGFyYWN0ZXIgbG9uZyBidWZmZXIgKHNvIHRoYXQgOCBjb2RlcyB3aWxsXHJcblx0Ly8gZml0IGluIGl0IGV4YWN0bHkpLiBVc2UgdGhlIFZBWCBpbnN2IGluc3RydWN0aW9uIHRvIGluc2VydCBlYWNoXHJcblx0Ly8gY29kZSBpbiB0dXJuLiBXaGVuIHRoZSBidWZmZXIgZmlsbHMgdXAgZW1wdHkgaXQgYW5kIHN0YXJ0IG92ZXIuXHJcblxyXG5cdHZhciBjdXJfYWNjdW0gPSAwO1xyXG5cdHZhciBjdXJfYml0cyA9IDA7XHJcblx0dmFyIG1hc2tzID0gWzB4MDAwMCwgMHgwMDAxLCAweDAwMDMsIDB4MDAwNywgMHgwMDBGLCAweDAwMUYsIDB4MDAzRiwgMHgwMDdGLCAweDAwRkYsIDB4MDFGRiwgMHgwM0ZGLCAweDA3RkYsIDB4MEZGRiwgMHgxRkZGLCAweDNGRkYsIDB4N0ZGRiwgMHhGRkZGXTtcclxuXHJcblx0Ly8gTnVtYmVyIG9mIGNoYXJhY3RlcnMgc28gZmFyIGluIHRoaXMgJ3BhY2tldCdcclxuXHR2YXIgYV9jb3VudDtcclxuXHJcblx0Ly8gRGVmaW5lIHRoZSBzdG9yYWdlIGZvciB0aGUgcGFja2V0IGFjY3VtdWxhdG9yXHJcblx0dmFyIGFjY3VtID0gW107XHJcblxyXG5cdHZhciBMWldFbmNvZGVyID0gZXhwb3J0cy5MWldFbmNvZGVyID0gZnVuY3Rpb24gTFpXRW5jb2Rlcih3aWR0aCwgaGVpZ2h0LCBwaXhlbHMsIGNvbG9yX2RlcHRoKSB7XHJcblx0XHRpbWdXID0gd2lkdGg7XHJcblx0XHRpbWdIID0gaGVpZ2h0O1xyXG5cdFx0cGl4QXJ5ID0gcGl4ZWxzO1xyXG5cdFx0aW5pdENvZGVTaXplID0gTWF0aC5tYXgoMiwgY29sb3JfZGVwdGgpO1xyXG5cdH07XHJcblxyXG5cdC8vIEFkZCBhIGNoYXJhY3RlciB0byB0aGUgZW5kIG9mIHRoZSBjdXJyZW50IHBhY2tldCwgYW5kIGlmIGl0IGlzIDI1NFxyXG5cdC8vIGNoYXJhY3RlcnMsIGZsdXNoIHRoZSBwYWNrZXQgdG8gZGlzay5cclxuXHR2YXIgY2hhcl9vdXQgPSBmdW5jdGlvbiBjaGFyX291dChjLCBvdXRzKSB7XHJcblx0XHRhY2N1bVthX2NvdW50KytdID0gYztcclxuXHRcdGlmIChhX2NvdW50ID49IDI1NCkgZmx1c2hfY2hhcihvdXRzKTtcclxuXHR9O1xyXG5cclxuXHQvLyBDbGVhciBvdXQgdGhlIGhhc2ggdGFibGVcclxuXHQvLyB0YWJsZSBjbGVhciBmb3IgYmxvY2sgY29tcHJlc3NcclxuXHJcblx0dmFyIGNsX2Jsb2NrID0gZnVuY3Rpb24gY2xfYmxvY2sob3V0cykge1xyXG5cdFx0Y2xfaGFzaChoc2l6ZSk7XHJcblx0XHRmcmVlX2VudCA9IENsZWFyQ29kZSArIDI7XHJcblx0XHRjbGVhcl9mbGcgPSB0cnVlO1xyXG5cdFx0b3V0cHV0KENsZWFyQ29kZSwgb3V0cyk7XHJcblx0fTtcclxuXHJcblx0Ly8gcmVzZXQgY29kZSB0YWJsZVxyXG5cdHZhciBjbF9oYXNoID0gZnVuY3Rpb24gY2xfaGFzaChoc2l6ZSkge1xyXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBoc2l6ZTsgKytpKSBodGFiW2ldID0gLTE7XHJcblx0fTtcclxuXHJcblx0dmFyIGNvbXByZXNzID0gZXhwb3J0cy5jb21wcmVzcyA9IGZ1bmN0aW9uIGNvbXByZXNzKGluaXRfYml0cywgb3V0cykge1xyXG5cclxuXHRcdHZhciBmY29kZTtcclxuXHRcdHZhciBpOyAvKiA9IDAgKi9cclxuXHRcdHZhciBjO1xyXG5cdFx0dmFyIGVudDtcclxuXHRcdHZhciBkaXNwO1xyXG5cdFx0dmFyIGhzaXplX3JlZztcclxuXHRcdHZhciBoc2hpZnQ7XHJcblxyXG5cdFx0Ly8gU2V0IHVwIHRoZSBnbG9iYWxzOiBnX2luaXRfYml0cyAtIGluaXRpYWwgbnVtYmVyIG9mIGJpdHNcclxuXHRcdGdfaW5pdF9iaXRzID0gaW5pdF9iaXRzO1xyXG5cclxuXHRcdC8vIFNldCB1cCB0aGUgbmVjZXNzYXJ5IHZhbHVlc1xyXG5cdFx0Y2xlYXJfZmxnID0gZmFsc2U7XHJcblx0XHRuX2JpdHMgPSBnX2luaXRfYml0cztcclxuXHRcdG1heGNvZGUgPSBNQVhDT0RFKG5fYml0cyk7XHJcblxyXG5cdFx0Q2xlYXJDb2RlID0gMSA8PCAoaW5pdF9iaXRzIC0gMSk7XHJcblx0XHRFT0ZDb2RlID0gQ2xlYXJDb2RlICsgMTtcclxuXHRcdGZyZWVfZW50ID0gQ2xlYXJDb2RlICsgMjtcclxuXHJcblx0XHRhX2NvdW50ID0gMDsgLy8gY2xlYXIgcGFja2V0XHJcblxyXG5cdFx0ZW50ID0gbmV4dFBpeGVsKCk7XHJcblxyXG5cdFx0aHNoaWZ0ID0gMDtcclxuXHRcdGZvciAoZmNvZGUgPSBoc2l6ZTsgZmNvZGUgPCA2NTUzNjsgZmNvZGUgKj0gMilcclxuXHRcdFx0Kytoc2hpZnQ7XHJcblx0XHRoc2hpZnQgPSA4IC0gaHNoaWZ0OyAvLyBzZXQgaGFzaCBjb2RlIHJhbmdlIGJvdW5kXHJcblxyXG5cdFx0aHNpemVfcmVnID0gaHNpemU7XHJcblx0XHRjbF9oYXNoKGhzaXplX3JlZyk7IC8vIGNsZWFyIGhhc2ggdGFibGVcclxuXHJcblx0XHRvdXRwdXQoQ2xlYXJDb2RlLCBvdXRzKTtcclxuXHJcblx0XHRvdXRlcl9sb29wOiB3aGlsZSAoKGMgPSBuZXh0UGl4ZWwoKSkgIT0gRU9GKSB7XHJcblx0XHRcdGZjb2RlID0gKGMgPDwgbWF4Yml0cykgKyBlbnQ7XHJcblx0XHRcdGkgPSAoYyA8PCBoc2hpZnQpIF4gZW50OyAvLyB4b3IgaGFzaGluZ1xyXG5cclxuXHRcdFx0aWYgKGh0YWJbaV0gPT0gZmNvZGUpIHtcclxuXHRcdFx0XHRlbnQgPSBjb2RldGFiW2ldO1xyXG5cdFx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRlbHNlIGlmIChodGFiW2ldID49IDApIHsgLy8gbm9uLWVtcHR5IHNsb3RcclxuXHJcblx0XHRcdFx0ZGlzcCA9IGhzaXplX3JlZyAtIGk7IC8vIHNlY29uZGFyeSBoYXNoIChhZnRlciBHLiBLbm90dClcclxuXHRcdFx0XHRpZiAoaSA9PT0gMCkgZGlzcCA9IDE7XHJcblxyXG5cdFx0XHRcdGRvIHtcclxuXHRcdFx0XHRcdGlmICgoaSAtPSBkaXNwKSA8IDApXHJcblx0XHRcdFx0XHRcdGkgKz0gaHNpemVfcmVnO1xyXG5cclxuXHRcdFx0XHRcdGlmIChodGFiW2ldID09IGZjb2RlKSB7XHJcblx0XHRcdFx0XHRcdGVudCA9IGNvZGV0YWJbaV07XHJcblx0XHRcdFx0XHRcdGNvbnRpbnVlIG91dGVyX2xvb3A7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSB3aGlsZSAoaHRhYltpXSA+PSAwKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0b3V0cHV0KGVudCwgb3V0cyk7XHJcblx0XHRcdGVudCA9IGM7XHJcblx0XHRcdGlmIChmcmVlX2VudCA8IG1heG1heGNvZGUpIHtcclxuXHRcdFx0XHRjb2RldGFiW2ldID0gZnJlZV9lbnQrKzsgLy8gY29kZSAtPiBoYXNodGFibGVcclxuXHRcdFx0XHRodGFiW2ldID0gZmNvZGU7XHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZSBjbF9ibG9jayhvdXRzKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBQdXQgb3V0IHRoZSBmaW5hbCBjb2RlLlxyXG5cdFx0b3V0cHV0KGVudCwgb3V0cyk7XHJcblx0XHRvdXRwdXQoRU9GQ29kZSwgb3V0cyk7XHJcblx0fTtcclxuXHJcblx0Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cdHZhciBlbmNvZGUgPSBleHBvcnRzLmVuY29kZSA9IGZ1bmN0aW9uIGVuY29kZShvcykge1xyXG5cdFx0b3Mud3JpdGVCeXRlKGluaXRDb2RlU2l6ZSk7IC8vIHdyaXRlIFwiaW5pdGlhbCBjb2RlIHNpemVcIiBieXRlXHJcblx0XHRyZW1haW5pbmcgPSBpbWdXICogaW1nSDsgLy8gcmVzZXQgbmF2aWdhdGlvbiB2YXJpYWJsZXNcclxuXHRcdGN1clBpeGVsID0gMDtcclxuXHRcdGNvbXByZXNzKGluaXRDb2RlU2l6ZSArIDEsIG9zKTsgLy8gY29tcHJlc3MgYW5kIHdyaXRlIHRoZSBwaXhlbCBkYXRhXHJcblx0XHRvcy53cml0ZUJ5dGUoMCk7IC8vIHdyaXRlIGJsb2NrIHRlcm1pbmF0b3JcclxuXHR9O1xyXG5cclxuXHQvLyBGbHVzaCB0aGUgcGFja2V0IHRvIGRpc2ssIGFuZCByZXNldCB0aGUgYWNjdW11bGF0b3JcclxuXHR2YXIgZmx1c2hfY2hhciA9IGZ1bmN0aW9uIGZsdXNoX2NoYXIob3V0cykge1xyXG5cdFx0aWYgKGFfY291bnQgPiAwKSB7XHJcblx0XHRcdG91dHMud3JpdGVCeXRlKGFfY291bnQpO1xyXG5cdFx0XHRvdXRzLndyaXRlQnl0ZXMoYWNjdW0sIDAsIGFfY291bnQpO1xyXG5cdFx0XHRhX2NvdW50ID0gMDtcclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHR2YXIgTUFYQ09ERSA9IGZ1bmN0aW9uIE1BWENPREUobl9iaXRzKSB7XHJcblx0XHRyZXR1cm4gKDEgPDwgbl9iaXRzKSAtIDE7XHJcblx0fTtcclxuXHJcblx0Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cdC8vIFJldHVybiB0aGUgbmV4dCBwaXhlbCBmcm9tIHRoZSBpbWFnZVxyXG5cdC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcblx0dmFyIG5leHRQaXhlbCA9IGZ1bmN0aW9uIG5leHRQaXhlbCgpIHtcclxuXHRcdGlmIChyZW1haW5pbmcgPT09IDApIHJldHVybiBFT0Y7XHJcblx0XHQtLXJlbWFpbmluZztcclxuXHRcdHZhciBwaXggPSBwaXhBcnlbY3VyUGl4ZWwrK107XHJcblx0XHRyZXR1cm4gcGl4ICYgMHhmZjtcclxuXHR9O1xyXG5cclxuXHR2YXIgb3V0cHV0ID0gZnVuY3Rpb24gb3V0cHV0KGNvZGUsIG91dHMpIHtcclxuXHJcblx0XHRjdXJfYWNjdW0gJj0gbWFza3NbY3VyX2JpdHNdO1xyXG5cclxuXHRcdGlmIChjdXJfYml0cyA+IDApIGN1cl9hY2N1bSB8PSAoY29kZSA8PCBjdXJfYml0cyk7XHJcblx0XHRlbHNlIGN1cl9hY2N1bSA9IGNvZGU7XHJcblxyXG5cdFx0Y3VyX2JpdHMgKz0gbl9iaXRzO1xyXG5cclxuXHRcdHdoaWxlIChjdXJfYml0cyA+PSA4KSB7XHJcblx0XHRcdGNoYXJfb3V0KChjdXJfYWNjdW0gJiAweGZmKSwgb3V0cyk7XHJcblx0XHRcdGN1cl9hY2N1bSA+Pj0gODtcclxuXHRcdFx0Y3VyX2JpdHMgLT0gODtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBJZiB0aGUgbmV4dCBlbnRyeSBpcyBnb2luZyB0byBiZSB0b28gYmlnIGZvciB0aGUgY29kZSBzaXplLFxyXG5cdFx0Ly8gdGhlbiBpbmNyZWFzZSBpdCwgaWYgcG9zc2libGUuXHJcblxyXG5cdFx0aWYgKGZyZWVfZW50ID4gbWF4Y29kZSB8fCBjbGVhcl9mbGcpIHtcclxuXHJcblx0XHRcdGlmIChjbGVhcl9mbGcpIHtcclxuXHJcblx0XHRcdFx0bWF4Y29kZSA9IE1BWENPREUobl9iaXRzID0gZ19pbml0X2JpdHMpO1xyXG5cdFx0XHRcdGNsZWFyX2ZsZyA9IGZhbHNlO1xyXG5cclxuXHRcdFx0fSBlbHNlIHtcclxuXHJcblx0XHRcdFx0KytuX2JpdHM7XHJcblx0XHRcdFx0aWYgKG5fYml0cyA9PSBtYXhiaXRzKSBtYXhjb2RlID0gbWF4bWF4Y29kZTtcclxuXHRcdFx0XHRlbHNlIG1heGNvZGUgPSBNQVhDT0RFKG5fYml0cyk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRpZiAoY29kZSA9PSBFT0ZDb2RlKSB7XHJcblxyXG5cdFx0XHQvLyBBdCBFT0YsIHdyaXRlIHRoZSByZXN0IG9mIHRoZSBidWZmZXIuXHJcblx0XHRcdHdoaWxlIChjdXJfYml0cyA+IDApIHtcclxuXHRcdFx0XHRjaGFyX291dCgoY3VyX2FjY3VtICYgMHhmZiksIG91dHMpO1xyXG5cdFx0XHRcdGN1cl9hY2N1bSA+Pj0gODtcclxuXHRcdFx0XHRjdXJfYml0cyAtPSA4O1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRmbHVzaF9jaGFyKG91dHMpO1xyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cdExaV0VuY29kZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuXHRyZXR1cm4gZXhwb3J0cztcclxufTtcclxuIiwiLypcclxuICogTmV1UXVhbnQgTmV1cmFsLU5ldCBRdWFudGl6YXRpb24gQWxnb3JpdGhtXHJcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gKlxyXG4gKiBDb3B5cmlnaHQgKGMpIDE5OTQgQW50aG9ueSBEZWtrZXJcclxuICpcclxuICogTkVVUVVBTlQgTmV1cmFsLU5ldCBxdWFudGl6YXRpb24gYWxnb3JpdGhtIGJ5IEFudGhvbnkgRGVra2VyLCAxOTk0LiBTZWVcclxuICogXCJLb2hvbmVuIG5ldXJhbCBuZXR3b3JrcyBmb3Igb3B0aW1hbCBjb2xvdXIgcXVhbnRpemF0aW9uXCIgaW4gXCJOZXR3b3JrOlxyXG4gKiBDb21wdXRhdGlvbiBpbiBOZXVyYWwgU3lzdGVtc1wiIFZvbC4gNSAoMTk5NCkgcHAgMzUxLTM2Ny4gZm9yIGEgZGlzY3Vzc2lvbiBvZlxyXG4gKiB0aGUgYWxnb3JpdGhtLlxyXG4gKlxyXG4gKiBBbnkgcGFydHkgb2J0YWluaW5nIGEgY29weSBvZiB0aGVzZSBmaWxlcyBmcm9tIHRoZSBhdXRob3IsIGRpcmVjdGx5IG9yXHJcbiAqIGluZGlyZWN0bHksIGlzIGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCBhIGZ1bGwgYW5kIHVucmVzdHJpY3RlZCBpcnJldm9jYWJsZSxcclxuICogd29ybGQtd2lkZSwgcGFpZCB1cCwgcm95YWx0eS1mcmVlLCBub25leGNsdXNpdmUgcmlnaHQgYW5kIGxpY2Vuc2UgdG8gZGVhbCBpblxyXG4gKiB0aGlzIHNvZnR3YXJlIGFuZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgaW5jbHVkaW5nIHdpdGhvdXRcclxuICogbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSxcclxuICogc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHdob1xyXG4gKiByZWNlaXZlIGNvcGllcyBmcm9tIGFueSBzdWNoIHBhcnR5IHRvIGRvIHNvLCB3aXRoIHRoZSBvbmx5IHJlcXVpcmVtZW50IGJlaW5nXHJcbiAqIHRoYXQgdGhpcyBjb3B5cmlnaHQgbm90aWNlIHJlbWFpbiBpbnRhY3QuXHJcbiAqL1xyXG5cclxuLypcclxuICogVGhpcyBjbGFzcyBoYW5kbGVzIE5ldXJhbC1OZXQgcXVhbnRpemF0aW9uIGFsZ29yaXRobVxyXG4gKiBAYXV0aG9yIEtldmluIFdlaW5lciAob3JpZ2luYWwgSmF2YSB2ZXJzaW9uIC0ga3dlaW5lckBmbXN3YXJlLmNvbSlcclxuICogQGF1dGhvciBUaGliYXVsdCBJbWJlcnQgKEFTMyB2ZXJzaW9uIC0gYnl0ZWFycmF5Lm9yZylcclxuICogQGF1dGhvciBLZXZpbiBLd29rIChKYXZhU2NyaXB0IHZlcnNpb24gLSBodHRwczovL2dpdGh1Yi5jb20vYW50aW1hdHRlcjE1L2pzZ2lmKVxyXG4gKiBAdmVyc2lvbiAwLjEgQVMzIGltcGxlbWVudGF0aW9uXHJcbiAqL1xyXG5cclxuTmV1UXVhbnQgPSBmdW5jdGlvbigpIHtcclxuXHJcblx0dmFyIGV4cG9ydHMgPSB7fTtcclxuXHR2YXIgbmV0c2l6ZSA9IDI1NjsgLyogbnVtYmVyIG9mIGNvbG91cnMgdXNlZCAqL1xyXG5cclxuXHQvKiBmb3VyIHByaW1lcyBuZWFyIDUwMCAtIGFzc3VtZSBubyBpbWFnZSBoYXMgYSBsZW5ndGggc28gbGFyZ2UgKi9cclxuXHQvKiB0aGF0IGl0IGlzIGRpdmlzaWJsZSBieSBhbGwgZm91ciBwcmltZXMgKi9cclxuXHJcblx0dmFyIHByaW1lMSA9IDQ5OTtcclxuXHR2YXIgcHJpbWUyID0gNDkxO1xyXG5cdHZhciBwcmltZTMgPSA0ODc7XHJcblx0dmFyIHByaW1lNCA9IDUwMztcclxuXHR2YXIgbWlucGljdHVyZWJ5dGVzID0gKDMgKiBwcmltZTQpOyAvKiBtaW5pbXVtIHNpemUgZm9yIGlucHV0IGltYWdlICovXHJcblxyXG5cdC8qXHJcblx0ICogUHJvZ3JhbSBTa2VsZXRvbiAtLS0tLS0tLS0tLS0tLS0tIFtzZWxlY3Qgc2FtcGxlZmFjIGluIHJhbmdlIDEuLjMwXSBbcmVhZFxyXG5cdCAqIGltYWdlIGZyb20gaW5wdXQgZmlsZV0gcGljID0gKHVuc2lnbmVkIGNoYXIqKSBtYWxsb2MoMyp3aWR0aCpoZWlnaHQpO1xyXG5cdCAqIGluaXRuZXQocGljLDMqd2lkdGgqaGVpZ2h0LHNhbXBsZWZhYyk7IGxlYXJuKCk7IHVuYmlhc25ldCgpOyBbd3JpdGUgb3V0cHV0XHJcblx0ICogaW1hZ2UgaGVhZGVyLCB1c2luZyB3cml0ZWNvbG91cm1hcChmKV0gaW54YnVpbGQoKTsgd3JpdGUgb3V0cHV0IGltYWdlIHVzaW5nXHJcblx0ICogaW54c2VhcmNoKGIsZyxyKVxyXG5cdCAqL1xyXG5cclxuXHQvKlxyXG5cdCAqIE5ldHdvcmsgRGVmaW5pdGlvbnMgLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cdCAqL1xyXG5cclxuXHR2YXIgbWF4bmV0cG9zID0gKG5ldHNpemUgLSAxKTtcclxuXHR2YXIgbmV0Ymlhc3NoaWZ0ID0gNDsgLyogYmlhcyBmb3IgY29sb3VyIHZhbHVlcyAqL1xyXG5cdHZhciBuY3ljbGVzID0gMTAwOyAvKiBuby4gb2YgbGVhcm5pbmcgY3ljbGVzICovXHJcblxyXG5cdC8qIGRlZnMgZm9yIGZyZXEgYW5kIGJpYXMgKi9cclxuXHR2YXIgaW50Ymlhc3NoaWZ0ID0gMTY7IC8qIGJpYXMgZm9yIGZyYWN0aW9ucyAqL1xyXG5cdHZhciBpbnRiaWFzID0gKDEgPDwgaW50Ymlhc3NoaWZ0KTtcclxuXHR2YXIgZ2FtbWFzaGlmdCA9IDEwOyAvKiBnYW1tYSA9IDEwMjQgKi9cclxuXHR2YXIgZ2FtbWEgPSAoMSA8PCBnYW1tYXNoaWZ0KTtcclxuXHR2YXIgYmV0YXNoaWZ0ID0gMTA7XHJcblx0dmFyIGJldGEgPSAoaW50YmlhcyA+PiBiZXRhc2hpZnQpOyAvKiBiZXRhID0gMS8xMDI0ICovXHJcblx0dmFyIGJldGFnYW1tYSA9IChpbnRiaWFzIDw8IChnYW1tYXNoaWZ0IC0gYmV0YXNoaWZ0KSk7XHJcblxyXG5cdC8qIGRlZnMgZm9yIGRlY3JlYXNpbmcgcmFkaXVzIGZhY3RvciAqL1xyXG5cdHZhciBpbml0cmFkID0gKG5ldHNpemUgPj4gMyk7IC8qIGZvciAyNTYgY29scywgcmFkaXVzIHN0YXJ0cyAqL1xyXG5cdHZhciByYWRpdXNiaWFzc2hpZnQgPSA2OyAvKiBhdCAzMi4wIGJpYXNlZCBieSA2IGJpdHMgKi9cclxuXHR2YXIgcmFkaXVzYmlhcyA9ICgxIDw8IHJhZGl1c2JpYXNzaGlmdCk7XHJcblx0dmFyIGluaXRyYWRpdXMgPSAoaW5pdHJhZCAqIHJhZGl1c2JpYXMpOyAvKiBhbmQgZGVjcmVhc2VzIGJ5IGEgKi9cclxuXHR2YXIgcmFkaXVzZGVjID0gMzA7IC8qIGZhY3RvciBvZiAxLzMwIGVhY2ggY3ljbGUgKi9cclxuXHJcblx0LyogZGVmcyBmb3IgZGVjcmVhc2luZyBhbHBoYSBmYWN0b3IgKi9cclxuXHR2YXIgYWxwaGFiaWFzc2hpZnQgPSAxMDsgLyogYWxwaGEgc3RhcnRzIGF0IDEuMCAqL1xyXG5cdHZhciBpbml0YWxwaGEgPSAoMSA8PCBhbHBoYWJpYXNzaGlmdCk7XHJcblx0dmFyIGFscGhhZGVjOyAvKiBiaWFzZWQgYnkgMTAgYml0cyAqL1xyXG5cclxuXHQvKiByYWRiaWFzIGFuZCBhbHBoYXJhZGJpYXMgdXNlZCBmb3IgcmFkcG93ZXIgY2FsY3VsYXRpb24gKi9cclxuXHR2YXIgcmFkYmlhc3NoaWZ0ID0gODtcclxuXHR2YXIgcmFkYmlhcyA9ICgxIDw8IHJhZGJpYXNzaGlmdCk7XHJcblx0dmFyIGFscGhhcmFkYnNoaWZ0ID0gKGFscGhhYmlhc3NoaWZ0ICsgcmFkYmlhc3NoaWZ0KTtcclxuXHR2YXIgYWxwaGFyYWRiaWFzID0gKDEgPDwgYWxwaGFyYWRic2hpZnQpO1xyXG5cclxuXHQvKlxyXG5cdCAqIFR5cGVzIGFuZCBHbG9iYWwgVmFyaWFibGVzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblx0ICovXHJcblxyXG5cdHZhciB0aGVwaWN0dXJlOyAvKiB0aGUgaW5wdXQgaW1hZ2UgaXRzZWxmICovXHJcblx0dmFyIGxlbmd0aGNvdW50OyAvKiBsZW5ndGhjb3VudCA9IEgqVyozICovXHJcblx0dmFyIHNhbXBsZWZhYzsgLyogc2FtcGxpbmcgZmFjdG9yIDEuLjMwICovXHJcblxyXG5cdC8vIHR5cGVkZWYgaW50IHBpeGVsWzRdOyAvKiBCR1JjICovXHJcblx0dmFyIG5ldHdvcms7IC8qIHRoZSBuZXR3b3JrIGl0c2VsZiAtIFtuZXRzaXplXVs0XSAqL1xyXG5cdHZhciBuZXRpbmRleCA9IFtdO1xyXG5cclxuXHQvKiBmb3IgbmV0d29yayBsb29rdXAgLSByZWFsbHkgMjU2ICovXHJcblx0dmFyIGJpYXMgPSBbXTtcclxuXHJcblx0LyogYmlhcyBhbmQgZnJlcSBhcnJheXMgZm9yIGxlYXJuaW5nICovXHJcblx0dmFyIGZyZXEgPSBbXTtcclxuXHR2YXIgcmFkcG93ZXIgPSBbXTtcclxuXHJcblx0dmFyIE5ldVF1YW50ID0gZXhwb3J0cy5OZXVRdWFudCA9IGZ1bmN0aW9uIE5ldVF1YW50KHRoZXBpYywgbGVuLCBzYW1wbGUpIHtcclxuXHJcblx0XHR2YXIgaTtcclxuXHRcdHZhciBwO1xyXG5cclxuXHRcdHRoZXBpY3R1cmUgPSB0aGVwaWM7XHJcblx0XHRsZW5ndGhjb3VudCA9IGxlbjtcclxuXHRcdHNhbXBsZWZhYyA9IHNhbXBsZTtcclxuXHJcblx0XHRuZXR3b3JrID0gbmV3IEFycmF5KG5ldHNpemUpO1xyXG5cclxuXHRcdGZvciAoaSA9IDA7IGkgPCBuZXRzaXplOyBpKyspIHtcclxuXHJcblx0XHRcdG5ldHdvcmtbaV0gPSBuZXcgQXJyYXkoNCk7XHJcblx0XHRcdHAgPSBuZXR3b3JrW2ldO1xyXG5cdFx0XHRwWzBdID0gcFsxXSA9IHBbMl0gPSAoaSA8PCAobmV0Ymlhc3NoaWZ0ICsgOCkpIC8gbmV0c2l6ZTtcclxuXHRcdFx0ZnJlcVtpXSA9IGludGJpYXMgLyBuZXRzaXplOyAvKiAxL25ldHNpemUgKi9cclxuXHRcdFx0Ymlhc1tpXSA9IDA7XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0dmFyIGNvbG9yTWFwID0gZnVuY3Rpb24gY29sb3JNYXAoKSB7XHJcblxyXG5cdFx0dmFyIG1hcCA9IFtdO1xyXG5cdFx0dmFyIGluZGV4ID0gbmV3IEFycmF5KG5ldHNpemUpO1xyXG5cclxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgbmV0c2l6ZTsgaSsrKVxyXG5cdFx0XHRpbmRleFtuZXR3b3JrW2ldWzNdXSA9IGk7XHJcblxyXG5cdFx0dmFyIGsgPSAwO1xyXG5cdFx0Zm9yICh2YXIgbCA9IDA7IGwgPCBuZXRzaXplOyBsKyspIHtcclxuXHRcdFx0dmFyIGogPSBpbmRleFtsXTtcclxuXHRcdFx0bWFwW2srK10gPSAobmV0d29ya1tqXVswXSk7XHJcblx0XHRcdG1hcFtrKytdID0gKG5ldHdvcmtbal1bMV0pO1xyXG5cdFx0XHRtYXBbaysrXSA9IChuZXR3b3JrW2pdWzJdKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gbWFwO1xyXG5cdH07XHJcblxyXG5cdC8qXHJcblx0ICogSW5zZXJ0aW9uIHNvcnQgb2YgbmV0d29yayBhbmQgYnVpbGRpbmcgb2YgbmV0aW5kZXhbMC4uMjU1XSAodG8gZG8gYWZ0ZXJcclxuXHQgKiB1bmJpYXMpXHJcblx0ICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cdCAqL1xyXG5cclxuXHR2YXIgaW54YnVpbGQgPSBmdW5jdGlvbiBpbnhidWlsZCgpIHtcclxuXHJcblx0XHR2YXIgaTtcclxuXHRcdHZhciBqO1xyXG5cdFx0dmFyIHNtYWxscG9zO1xyXG5cdFx0dmFyIHNtYWxsdmFsO1xyXG5cdFx0dmFyIHA7XHJcblx0XHR2YXIgcTtcclxuXHRcdHZhciBwcmV2aW91c2NvbDtcclxuXHRcdHZhciBzdGFydHBvcztcclxuXHJcblx0XHRwcmV2aW91c2NvbCA9IDA7XHJcblx0XHRzdGFydHBvcyA9IDA7XHJcblx0XHRmb3IgKGkgPSAwOyBpIDwgbmV0c2l6ZTsgaSsrKSB7XHJcblxyXG5cdFx0XHRwID0gbmV0d29ya1tpXTtcclxuXHRcdFx0c21hbGxwb3MgPSBpO1xyXG5cdFx0XHRzbWFsbHZhbCA9IHBbMV07IC8qIGluZGV4IG9uIGcgKi9cclxuXHJcblx0XHRcdC8qIGZpbmQgc21hbGxlc3QgaW4gaS4ubmV0c2l6ZS0xICovXHJcblx0XHRcdGZvciAoaiA9IGkgKyAxOyBqIDwgbmV0c2l6ZTsgaisrKSB7XHJcblxyXG5cdFx0XHRcdHEgPSBuZXR3b3JrW2pdO1xyXG5cdFx0XHRcdGlmIChxWzFdIDwgc21hbGx2YWwpIHsgLyogaW5kZXggb24gZyAqL1xyXG5cdFx0XHRcdFx0c21hbGxwb3MgPSBqO1xyXG5cdFx0XHRcdFx0c21hbGx2YWwgPSBxWzFdOyAvKiBpbmRleCBvbiBnICovXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdHEgPSBuZXR3b3JrW3NtYWxscG9zXTtcclxuXHJcblx0XHRcdC8qIHN3YXAgcCAoaSkgYW5kIHEgKHNtYWxscG9zKSBlbnRyaWVzICovXHJcblx0XHRcdGlmIChpICE9IHNtYWxscG9zKSB7XHJcblx0XHRcdFx0aiA9IHFbMF07XHJcblx0XHRcdFx0cVswXSA9IHBbMF07XHJcblx0XHRcdFx0cFswXSA9IGo7XHJcblx0XHRcdFx0aiA9IHFbMV07XHJcblx0XHRcdFx0cVsxXSA9IHBbMV07XHJcblx0XHRcdFx0cFsxXSA9IGo7XHJcblx0XHRcdFx0aiA9IHFbMl07XHJcblx0XHRcdFx0cVsyXSA9IHBbMl07XHJcblx0XHRcdFx0cFsyXSA9IGo7XHJcblx0XHRcdFx0aiA9IHFbM107XHJcblx0XHRcdFx0cVszXSA9IHBbM107XHJcblx0XHRcdFx0cFszXSA9IGo7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8qIHNtYWxsdmFsIGVudHJ5IGlzIG5vdyBpbiBwb3NpdGlvbiBpICovXHJcblxyXG5cdFx0XHRpZiAoc21hbGx2YWwgIT0gcHJldmlvdXNjb2wpIHtcclxuXHJcblx0XHRcdFx0bmV0aW5kZXhbcHJldmlvdXNjb2xdID0gKHN0YXJ0cG9zICsgaSkgPj4gMTtcclxuXHJcblx0XHRcdFx0Zm9yIChqID0gcHJldmlvdXNjb2wgKyAxOyBqIDwgc21hbGx2YWw7IGorKykgbmV0aW5kZXhbal0gPSBpO1xyXG5cclxuXHRcdFx0XHRwcmV2aW91c2NvbCA9IHNtYWxsdmFsO1xyXG5cdFx0XHRcdHN0YXJ0cG9zID0gaTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdG5ldGluZGV4W3ByZXZpb3VzY29sXSA9IChzdGFydHBvcyArIG1heG5ldHBvcykgPj4gMTtcclxuXHRcdGZvciAoaiA9IHByZXZpb3VzY29sICsgMTsgaiA8IDI1NjsgaisrKSBuZXRpbmRleFtqXSA9IG1heG5ldHBvczsgLyogcmVhbGx5IDI1NiAqL1xyXG5cdH07XHJcblxyXG5cdC8qXHJcblx0ICogTWFpbiBMZWFybmluZyBMb29wIC0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cdCAqL1xyXG5cclxuXHR2YXIgbGVhcm4gPSBmdW5jdGlvbiBsZWFybigpIHtcclxuXHJcblx0XHR2YXIgaTtcclxuXHRcdHZhciBqO1xyXG5cdFx0dmFyIGI7XHJcblx0XHR2YXIgZztcclxuXHRcdHZhciByO1xyXG5cdFx0dmFyIHJhZGl1cztcclxuXHRcdHZhciByYWQ7XHJcblx0XHR2YXIgYWxwaGE7XHJcblx0XHR2YXIgc3RlcDtcclxuXHRcdHZhciBkZWx0YTtcclxuXHRcdHZhciBzYW1wbGVwaXhlbHM7XHJcblx0XHR2YXIgcDtcclxuXHRcdHZhciBwaXg7XHJcblx0XHR2YXIgbGltO1xyXG5cclxuXHRcdGlmIChsZW5ndGhjb3VudCA8IG1pbnBpY3R1cmVieXRlcykgc2FtcGxlZmFjID0gMTtcclxuXHJcblx0XHRhbHBoYWRlYyA9IDMwICsgKChzYW1wbGVmYWMgLSAxKSAvIDMpO1xyXG5cdFx0cCA9IHRoZXBpY3R1cmU7XHJcblx0XHRwaXggPSAwO1xyXG5cdFx0bGltID0gbGVuZ3RoY291bnQ7XHJcblx0XHRzYW1wbGVwaXhlbHMgPSBsZW5ndGhjb3VudCAvICgzICogc2FtcGxlZmFjKTtcclxuXHRcdGRlbHRhID0gKHNhbXBsZXBpeGVscyAvIG5jeWNsZXMpIHwgMDtcclxuXHRcdGFscGhhID0gaW5pdGFscGhhO1xyXG5cdFx0cmFkaXVzID0gaW5pdHJhZGl1cztcclxuXHJcblx0XHRyYWQgPSByYWRpdXMgPj4gcmFkaXVzYmlhc3NoaWZ0O1xyXG5cdFx0aWYgKHJhZCA8PSAxKSByYWQgPSAwO1xyXG5cclxuXHRcdGZvciAoaSA9IDA7IGkgPCByYWQ7IGkrKykgcmFkcG93ZXJbaV0gPSBhbHBoYSAqICgoKHJhZCAqIHJhZCAtIGkgKiBpKSAqIHJhZGJpYXMpIC8gKHJhZCAqIHJhZCkpO1xyXG5cclxuXHRcdGlmIChsZW5ndGhjb3VudCA8IG1pbnBpY3R1cmVieXRlcykgc3RlcCA9IDM7XHJcblxyXG5cdFx0ZWxzZSBpZiAoKGxlbmd0aGNvdW50ICUgcHJpbWUxKSAhPT0gMCkgc3RlcCA9IDMgKiBwcmltZTE7XHJcblxyXG5cdFx0ZWxzZSB7XHJcblxyXG5cdFx0XHRpZiAoKGxlbmd0aGNvdW50ICUgcHJpbWUyKSAhPT0gMCkgc3RlcCA9IDMgKiBwcmltZTI7XHJcblx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdGlmICgobGVuZ3RoY291bnQgJSBwcmltZTMpICE9PSAwKSBzdGVwID0gMyAqIHByaW1lMztcclxuXHRcdFx0XHRlbHNlIHN0ZXAgPSAzICogcHJpbWU0O1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0aSA9IDA7XHJcblx0XHR3aGlsZSAoaSA8IHNhbXBsZXBpeGVscykge1xyXG5cclxuXHRcdFx0YiA9IChwW3BpeCArIDBdICYgMHhmZikgPDwgbmV0Ymlhc3NoaWZ0O1xyXG5cdFx0XHRnID0gKHBbcGl4ICsgMV0gJiAweGZmKSA8PCBuZXRiaWFzc2hpZnQ7XHJcblx0XHRcdHIgPSAocFtwaXggKyAyXSAmIDB4ZmYpIDw8IG5ldGJpYXNzaGlmdDtcclxuXHRcdFx0aiA9IGNvbnRlc3QoYiwgZywgcik7XHJcblxyXG5cdFx0XHRhbHRlcnNpbmdsZShhbHBoYSwgaiwgYiwgZywgcik7XHJcblx0XHRcdGlmIChyYWQgIT09IDApIGFsdGVybmVpZ2gocmFkLCBqLCBiLCBnLCByKTsgLyogYWx0ZXIgbmVpZ2hib3VycyAqL1xyXG5cclxuXHRcdFx0cGl4ICs9IHN0ZXA7XHJcblx0XHRcdGlmIChwaXggPj0gbGltKSBwaXggLT0gbGVuZ3RoY291bnQ7XHJcblxyXG5cdFx0XHRpKys7XHJcblxyXG5cdFx0XHRpZiAoZGVsdGEgPT09IDApIGRlbHRhID0gMTtcclxuXHJcblx0XHRcdGlmIChpICUgZGVsdGEgPT09IDApIHtcclxuXHRcdFx0XHRhbHBoYSAtPSBhbHBoYSAvIGFscGhhZGVjO1xyXG5cdFx0XHRcdHJhZGl1cyAtPSByYWRpdXMgLyByYWRpdXNkZWM7XHJcblx0XHRcdFx0cmFkID0gcmFkaXVzID4+IHJhZGl1c2JpYXNzaGlmdDtcclxuXHJcblx0XHRcdFx0aWYgKHJhZCA8PSAxKSByYWQgPSAwO1xyXG5cclxuXHRcdFx0XHRmb3IgKGogPSAwOyBqIDwgcmFkOyBqKyspIHJhZHBvd2VyW2pdID0gYWxwaGEgKiAoKChyYWQgKiByYWQgLSBqICogaikgKiByYWRiaWFzKSAvIChyYWQgKiByYWQpKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cdC8qXHJcblx0ICoqIFNlYXJjaCBmb3IgQkdSIHZhbHVlcyAwLi4yNTUgKGFmdGVyIG5ldCBpcyB1bmJpYXNlZCkgYW5kIHJldHVybiBjb2xvdXJcclxuXHQgKiBpbmRleFxyXG5cdCAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHQgKi9cclxuXHJcblx0dmFyIG1hcCA9IGV4cG9ydHMubWFwID0gZnVuY3Rpb24gbWFwKGIsIGcsIHIpIHtcclxuXHJcblx0XHR2YXIgaTtcclxuXHRcdHZhciBqO1xyXG5cdFx0dmFyIGRpc3Q7XHJcblx0XHR2YXIgYTtcclxuXHRcdHZhciBiZXN0ZDtcclxuXHRcdHZhciBwO1xyXG5cdFx0dmFyIGJlc3Q7XHJcblxyXG5cdFx0YmVzdGQgPSAxMDAwOyAvKiBiaWdnZXN0IHBvc3NpYmxlIGRpc3QgaXMgMjU2KjMgKi9cclxuXHRcdGJlc3QgPSAtMTtcclxuXHRcdGkgPSBuZXRpbmRleFtnXTsgLyogaW5kZXggb24gZyAqL1xyXG5cdFx0aiA9IGkgLSAxOyAvKiBzdGFydCBhdCBuZXRpbmRleFtnXSBhbmQgd29yayBvdXR3YXJkcyAqL1xyXG5cclxuXHRcdHdoaWxlICgoaSA8IG5ldHNpemUpIHx8IChqID49IDApKSB7XHJcblxyXG5cdFx0XHRpZiAoaSA8IG5ldHNpemUpIHtcclxuXHRcdFx0XHRwID0gbmV0d29ya1tpXTtcclxuXHRcdFx0XHRkaXN0ID0gcFsxXSAtIGc7IC8qIGlueCBrZXkgKi9cclxuXHJcblx0XHRcdFx0aWYgKGRpc3QgPj0gYmVzdGQpIGkgPSBuZXRzaXplOyAvKiBzdG9wIGl0ZXIgKi9cclxuXHJcblx0XHRcdFx0ZWxzZSB7XHJcblxyXG5cdFx0XHRcdFx0aSsrO1xyXG5cdFx0XHRcdFx0aWYgKGRpc3QgPCAwKSBkaXN0ID0gLWRpc3Q7XHJcblx0XHRcdFx0XHRhID0gcFswXSAtIGI7XHJcblx0XHRcdFx0XHRpZiAoYSA8IDApIGEgPSAtYTtcclxuXHRcdFx0XHRcdGRpc3QgKz0gYTtcclxuXHJcblx0XHRcdFx0XHRpZiAoZGlzdCA8IGJlc3RkKSB7XHJcblx0XHRcdFx0XHRcdGEgPSBwWzJdIC0gcjtcclxuXHRcdFx0XHRcdFx0aWYgKGEgPCAwKSBhID0gLWE7XHJcblx0XHRcdFx0XHRcdGRpc3QgKz0gYTtcclxuXHJcblx0XHRcdFx0XHRcdGlmIChkaXN0IDwgYmVzdGQpIHtcclxuXHRcdFx0XHRcdFx0XHRiZXN0ZCA9IGRpc3Q7XHJcblx0XHRcdFx0XHRcdFx0YmVzdCA9IHBbM107XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmIChqID49IDApIHtcclxuXHJcblx0XHRcdFx0cCA9IG5ldHdvcmtbal07XHJcblx0XHRcdFx0ZGlzdCA9IGcgLSBwWzFdOyAvKiBpbngga2V5IC0gcmV2ZXJzZSBkaWYgKi9cclxuXHJcblx0XHRcdFx0aWYgKGRpc3QgPj0gYmVzdGQpIGogPSAtMTsgLyogc3RvcCBpdGVyICovXHJcblxyXG5cdFx0XHRcdGVsc2Uge1xyXG5cclxuXHRcdFx0XHRcdGotLTtcclxuXHRcdFx0XHRcdGlmIChkaXN0IDwgMCkgZGlzdCA9IC1kaXN0O1xyXG5cdFx0XHRcdFx0YSA9IHBbMF0gLSBiO1xyXG5cdFx0XHRcdFx0aWYgKGEgPCAwKSBhID0gLWE7XHJcblx0XHRcdFx0XHRkaXN0ICs9IGE7XHJcblxyXG5cdFx0XHRcdFx0aWYgKGRpc3QgPCBiZXN0ZCkge1xyXG5cdFx0XHRcdFx0XHRhID0gcFsyXSAtIHI7XHJcblx0XHRcdFx0XHRcdGlmIChhIDwgMCkgYSA9IC1hO1xyXG5cdFx0XHRcdFx0XHRkaXN0ICs9IGE7XHJcblx0XHRcdFx0XHRcdGlmIChkaXN0IDwgYmVzdGQpIHtcclxuXHRcdFx0XHRcdFx0XHRiZXN0ZCA9IGRpc3Q7XHJcblx0XHRcdFx0XHRcdFx0YmVzdCA9IHBbM107XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gKGJlc3QpO1xyXG5cdH07XHJcblxyXG5cdHZhciBwcm9jZXNzID0gZXhwb3J0cy5wcm9jZXNzID0gZnVuY3Rpb24gcHJvY2VzcygpIHtcclxuXHRcdGxlYXJuKCk7XHJcblx0XHR1bmJpYXNuZXQoKTtcclxuXHRcdGlueGJ1aWxkKCk7XHJcblx0XHRyZXR1cm4gY29sb3JNYXAoKTtcclxuXHR9O1xyXG5cclxuXHQvKlxyXG5cdCAqIFVuYmlhcyBuZXR3b3JrIHRvIGdpdmUgYnl0ZSB2YWx1ZXMgMC4uMjU1IGFuZCByZWNvcmQgcG9zaXRpb24gaSB0byBwcmVwYXJlXHJcblx0ICogZm9yIHNvcnRcclxuXHQgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cdCAqL1xyXG5cclxuXHR2YXIgdW5iaWFzbmV0ID0gZnVuY3Rpb24gdW5iaWFzbmV0KCkge1xyXG5cclxuXHRcdHZhciBpO1xyXG5cdFx0dmFyIGo7XHJcblxyXG5cdFx0Zm9yIChpID0gMDsgaSA8IG5ldHNpemU7IGkrKykge1xyXG5cdFx0XHRuZXR3b3JrW2ldWzBdID4+PSBuZXRiaWFzc2hpZnQ7XHJcblx0XHRcdG5ldHdvcmtbaV1bMV0gPj49IG5ldGJpYXNzaGlmdDtcclxuXHRcdFx0bmV0d29ya1tpXVsyXSA+Pj0gbmV0Ymlhc3NoaWZ0O1xyXG5cdFx0XHRuZXR3b3JrW2ldWzNdID0gaTsgLyogcmVjb3JkIGNvbG91ciBubyAqL1xyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cdC8qXHJcblx0ICogTW92ZSBhZGphY2VudCBuZXVyb25zIGJ5IHByZWNvbXB1dGVkIGFscGhhKigxLSgoaS1qKV4yL1tyXV4yKSkgaW5cclxuXHQgKiByYWRwb3dlclt8aS1qfF1cclxuXHQgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHQgKi9cclxuXHJcblx0dmFyIGFsdGVybmVpZ2ggPSBmdW5jdGlvbiBhbHRlcm5laWdoKHJhZCwgaSwgYiwgZywgcikge1xyXG5cclxuXHRcdHZhciBqO1xyXG5cdFx0dmFyIGs7XHJcblx0XHR2YXIgbG87XHJcblx0XHR2YXIgaGk7XHJcblx0XHR2YXIgYTtcclxuXHRcdHZhciBtO1xyXG5cdFx0dmFyIHA7XHJcblxyXG5cdFx0bG8gPSBpIC0gcmFkO1xyXG5cdFx0aWYgKGxvIDwgLTEpIGxvID0gLTE7XHJcblxyXG5cdFx0aGkgPSBpICsgcmFkO1xyXG5cdFx0aWYgKGhpID4gbmV0c2l6ZSkgaGkgPSBuZXRzaXplO1xyXG5cclxuXHRcdGogPSBpICsgMTtcclxuXHRcdGsgPSBpIC0gMTtcclxuXHRcdG0gPSAxO1xyXG5cclxuXHRcdHdoaWxlICgoaiA8IGhpKSB8fCAoayA+IGxvKSkge1xyXG5cdFx0XHRhID0gcmFkcG93ZXJbbSsrXTtcclxuXHJcblx0XHRcdGlmIChqIDwgaGkpIHtcclxuXHRcdFx0XHRwID0gbmV0d29ya1tqKytdO1xyXG5cclxuXHRcdFx0XHR0cnkge1xyXG5cdFx0XHRcdFx0cFswXSAtPSAoYSAqIChwWzBdIC0gYikpIC8gYWxwaGFyYWRiaWFzO1xyXG5cdFx0XHRcdFx0cFsxXSAtPSAoYSAqIChwWzFdIC0gZykpIC8gYWxwaGFyYWRiaWFzO1xyXG5cdFx0XHRcdFx0cFsyXSAtPSAoYSAqIChwWzJdIC0gcikpIC8gYWxwaGFyYWRiaWFzO1xyXG5cdFx0XHRcdH0gY2F0Y2ggKGUpIHt9IC8vIHByZXZlbnRzIDEuMyBtaXNjb21waWxhdGlvblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAoayA+IGxvKSB7XHJcblx0XHRcdFx0cCA9IG5ldHdvcmtbay0tXTtcclxuXHJcblx0XHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRcdHBbMF0gLT0gKGEgKiAocFswXSAtIGIpKSAvIGFscGhhcmFkYmlhcztcclxuXHRcdFx0XHRcdHBbMV0gLT0gKGEgKiAocFsxXSAtIGcpKSAvIGFscGhhcmFkYmlhcztcclxuXHRcdFx0XHRcdHBbMl0gLT0gKGEgKiAocFsyXSAtIHIpKSAvIGFscGhhcmFkYmlhcztcclxuXHRcdFx0XHR9IGNhdGNoIChlKSB7fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0LypcclxuXHQgKiBNb3ZlIG5ldXJvbiBpIHRvd2FyZHMgYmlhc2VkIChiLGcscikgYnkgZmFjdG9yIGFscGhhXHJcblx0ICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cdCAqL1xyXG5cclxuXHR2YXIgYWx0ZXJzaW5nbGUgPSBmdW5jdGlvbiBhbHRlcnNpbmdsZShhbHBoYSwgaSwgYiwgZywgcikge1xyXG5cclxuXHRcdC8qIGFsdGVyIGhpdCBuZXVyb24gKi9cclxuXHRcdHZhciBuID0gbmV0d29ya1tpXTtcclxuXHRcdG5bMF0gLT0gKGFscGhhICogKG5bMF0gLSBiKSkgLyBpbml0YWxwaGE7XHJcblx0XHRuWzFdIC09IChhbHBoYSAqIChuWzFdIC0gZykpIC8gaW5pdGFscGhhO1xyXG5cdFx0blsyXSAtPSAoYWxwaGEgKiAoblsyXSAtIHIpKSAvIGluaXRhbHBoYTtcclxuXHR9O1xyXG5cclxuXHQvKlxyXG5cdCAqIFNlYXJjaCBmb3IgYmlhc2VkIEJHUiB2YWx1ZXMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cdCAqL1xyXG5cclxuXHR2YXIgY29udGVzdCA9IGZ1bmN0aW9uIGNvbnRlc3QoYiwgZywgcikge1xyXG5cclxuXHRcdC8qIGZpbmRzIGNsb3Nlc3QgbmV1cm9uIChtaW4gZGlzdCkgYW5kIHVwZGF0ZXMgZnJlcSAqL1xyXG5cdFx0LyogZmluZHMgYmVzdCBuZXVyb24gKG1pbiBkaXN0LWJpYXMpIGFuZCByZXR1cm5zIHBvc2l0aW9uICovXHJcblx0XHQvKiBmb3IgZnJlcXVlbnRseSBjaG9zZW4gbmV1cm9ucywgZnJlcVtpXSBpcyBoaWdoIGFuZCBiaWFzW2ldIGlzIG5lZ2F0aXZlICovXHJcblx0XHQvKiBiaWFzW2ldID0gZ2FtbWEqKCgxL25ldHNpemUpLWZyZXFbaV0pICovXHJcblxyXG5cdFx0dmFyIGk7XHJcblx0XHR2YXIgZGlzdDtcclxuXHRcdHZhciBhO1xyXG5cdFx0dmFyIGJpYXNkaXN0O1xyXG5cdFx0dmFyIGJldGFmcmVxO1xyXG5cdFx0dmFyIGJlc3Rwb3M7XHJcblx0XHR2YXIgYmVzdGJpYXNwb3M7XHJcblx0XHR2YXIgYmVzdGQ7XHJcblx0XHR2YXIgYmVzdGJpYXNkO1xyXG5cdFx0dmFyIG47XHJcblxyXG5cdFx0YmVzdGQgPSB+ICgxIDw8IDMxKTtcclxuXHRcdGJlc3RiaWFzZCA9IGJlc3RkO1xyXG5cdFx0YmVzdHBvcyA9IC0xO1xyXG5cdFx0YmVzdGJpYXNwb3MgPSBiZXN0cG9zO1xyXG5cclxuXHRcdGZvciAoaSA9IDA7IGkgPCBuZXRzaXplOyBpKyspIHtcclxuXHRcdFx0biA9IG5ldHdvcmtbaV07XHJcblx0XHRcdGRpc3QgPSBuWzBdIC0gYjtcclxuXHRcdFx0aWYgKGRpc3QgPCAwKSBkaXN0ID0gLWRpc3Q7XHJcblx0XHRcdGEgPSBuWzFdIC0gZztcclxuXHRcdFx0aWYgKGEgPCAwKSBhID0gLWE7XHJcblx0XHRcdGRpc3QgKz0gYTtcclxuXHRcdFx0YSA9IG5bMl0gLSByO1xyXG5cdFx0XHRpZiAoYSA8IDApIGEgPSAtYTtcclxuXHRcdFx0ZGlzdCArPSBhO1xyXG5cclxuXHRcdFx0aWYgKGRpc3QgPCBiZXN0ZCkge1xyXG5cdFx0XHRcdGJlc3RkID0gZGlzdDtcclxuXHRcdFx0XHRiZXN0cG9zID0gaTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ymlhc2Rpc3QgPSBkaXN0IC0gKChiaWFzW2ldKSA+PiAoaW50Ymlhc3NoaWZ0IC0gbmV0Ymlhc3NoaWZ0KSk7XHJcblxyXG5cdFx0XHRpZiAoYmlhc2Rpc3QgPCBiZXN0Ymlhc2QpIHtcclxuXHRcdFx0XHRiZXN0Ymlhc2QgPSBiaWFzZGlzdDtcclxuXHRcdFx0XHRiZXN0Ymlhc3BvcyA9IGk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGJldGFmcmVxID0gKGZyZXFbaV0gPj4gYmV0YXNoaWZ0KTtcclxuXHRcdFx0ZnJlcVtpXSAtPSBiZXRhZnJlcTtcclxuXHRcdFx0Ymlhc1tpXSArPSAoYmV0YWZyZXEgPDwgZ2FtbWFzaGlmdCk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnJlcVtiZXN0cG9zXSArPSBiZXRhO1xyXG5cdFx0Ymlhc1tiZXN0cG9zXSAtPSBiZXRhZ2FtbWE7XHJcblx0XHRyZXR1cm4gKGJlc3RiaWFzcG9zKTtcclxuXHR9O1xyXG5cclxuXHROZXVRdWFudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG5cdHJldHVybiBleHBvcnRzO1xyXG59O1xyXG4iLCIvKipcclxuICogVGhpcyBjbGFzcyBsZXRzIHlvdSBlbmNvZGUgYW5pbWF0ZWQgR0lGIGZpbGVzXHJcbiAqIEJhc2UgY2xhc3MgOiAgaHR0cDovL3d3dy5qYXZhMnMuY29tL0NvZGUvSmF2YS8yRC1HcmFwaGljcy1HVUkvQW5pbWF0ZWRHaWZFbmNvZGVyLmh0bVxyXG4gKiBAYXV0aG9yIEtldmluIFdlaW5lciAob3JpZ2luYWwgSmF2YSB2ZXJzaW9uIC0ga3dlaW5lckBmbXN3YXJlLmNvbSlcclxuICogQGF1dGhvciBUaGliYXVsdCBJbWJlcnQgKEFTMyB2ZXJzaW9uIC0gYnl0ZWFycmF5Lm9yZylcclxuICogQGF1dGhvciBLZXZpbiBLd29rIChKYXZhU2NyaXB0IHZlcnNpb24gLSBodHRwczovL2dpdGh1Yi5jb20vYW50aW1hdHRlcjE1L2pzZ2lmKVxyXG4gKiBAdmVyc2lvbiAwLjEgQVMzIGltcGxlbWVudGF0aW9uXHJcbiAqL1xyXG5cclxuR0lGRW5jb2RlciA9IGZ1bmN0aW9uKCkge1xyXG5cclxuXHRmb3IgKHZhciBpID0gMCwgY2hyID0ge307IGkgPCAyNTY7IGkrKylcclxuXHRcdGNocltpXSA9IFN0cmluZy5mcm9tQ2hhckNvZGUoaSk7XHJcblxyXG5cdGZ1bmN0aW9uIEJ5dGVBcnJheSgpIHtcclxuXHRcdHRoaXMuYmluID0gW107XHJcblx0fVxyXG5cclxuXHRCeXRlQXJyYXkucHJvdG90eXBlLmdldERhdGEgPSBmdW5jdGlvbigpIHtcclxuXHRcdGZvciAodmFyIHYgPSAnJywgbCA9IHRoaXMuYmluLmxlbmd0aCwgaSA9IDA7IGkgPCBsOyBpKyspXHJcblx0XHRcdHYgKz0gY2hyW3RoaXMuYmluW2ldXTtcclxuXHRcdHJldHVybiB2O1xyXG5cdH07XHJcblxyXG5cdEJ5dGVBcnJheS5wcm90b3R5cGUud3JpdGVCeXRlID0gZnVuY3Rpb24odmFsKSB7XHJcblx0XHR0aGlzLmJpbi5wdXNoKHZhbCk7XHJcblx0fTtcclxuXHJcblx0Qnl0ZUFycmF5LnByb3RvdHlwZS53cml0ZVVURkJ5dGVzID0gZnVuY3Rpb24oc3RyaW5nKSB7XHJcblx0XHRmb3IgKHZhciBsID0gc3RyaW5nLmxlbmd0aCwgaSA9IDA7IGkgPCBsOyBpKyspXHJcblx0XHRcdHRoaXMud3JpdGVCeXRlKHN0cmluZy5jaGFyQ29kZUF0KGkpKTtcclxuXHR9O1xyXG5cclxuXHRCeXRlQXJyYXkucHJvdG90eXBlLndyaXRlQnl0ZXMgPSBmdW5jdGlvbihhcnJheSwgb2Zmc2V0LCBsZW5ndGgpIHtcclxuXHRcdGZvciAodmFyIGwgPSBsZW5ndGggfHwgYXJyYXkubGVuZ3RoLCBpID0gb2Zmc2V0IHx8IDA7IGkgPCBsOyBpKyspXHJcblx0XHRcdHRoaXMud3JpdGVCeXRlKGFycmF5W2ldKTtcclxuXHR9O1xyXG5cclxuXHR2YXIgZXhwb3J0cyA9IHt9O1xyXG5cdHZhciB3aWR0aDsgLy8gaW1hZ2Ugc2l6ZVxyXG5cdHZhciBoZWlnaHQ7XHJcblx0dmFyIHRyYW5zcGFyZW50ID0gbnVsbDsgLy8gdHJhbnNwYXJlbnQgY29sb3IgaWYgZ2l2ZW5cclxuXHR2YXIgdHJhbnNJbmRleDsgLy8gdHJhbnNwYXJlbnQgaW5kZXggaW4gY29sb3IgdGFibGVcclxuXHR2YXIgcmVwZWF0ID0gLTE7IC8vIG5vIHJlcGVhdFxyXG5cdHZhciBkZWxheSA9IDA7IC8vIGZyYW1lIGRlbGF5IChodW5kcmVkdGhzKVxyXG5cdHZhciBzdGFydGVkID0gZmFsc2U7IC8vIHJlYWR5IHRvIG91dHB1dCBmcmFtZXNcclxuXHR2YXIgb3V0O1xyXG5cdHZhciBpbWFnZTsgLy8gY3VycmVudCBmcmFtZVxyXG5cdHZhciBwaXhlbHM7IC8vIEJHUiBieXRlIGFycmF5IGZyb20gZnJhbWVcclxuXHR2YXIgaW5kZXhlZFBpeGVsczsgLy8gY29udmVydGVkIGZyYW1lIGluZGV4ZWQgdG8gcGFsZXR0ZVxyXG5cdHZhciBjb2xvckRlcHRoOyAvLyBudW1iZXIgb2YgYml0IHBsYW5lc1xyXG5cdHZhciBjb2xvclRhYjsgLy8gUkdCIHBhbGV0dGVcclxuXHR2YXIgdXNlZEVudHJ5ID0gW107IC8vIGFjdGl2ZSBwYWxldHRlIGVudHJpZXNcclxuXHR2YXIgcGFsU2l6ZSA9IDc7IC8vIGNvbG9yIHRhYmxlIHNpemUgKGJpdHMtMSlcclxuXHR2YXIgZGlzcG9zZSA9IC0xOyAvLyBkaXNwb3NhbCBjb2RlICgtMSA9IHVzZSBkZWZhdWx0KVxyXG5cdHZhciBjbG9zZVN0cmVhbSA9IGZhbHNlOyAvLyBjbG9zZSBzdHJlYW0gd2hlbiBmaW5pc2hlZFxyXG5cdHZhciBmaXJzdEZyYW1lID0gdHJ1ZTtcclxuXHR2YXIgc2l6ZVNldCA9IGZhbHNlOyAvLyBpZiBmYWxzZSwgZ2V0IHNpemUgZnJvbSBmaXJzdCBmcmFtZVxyXG5cdHZhciBzYW1wbGUgPSAxMDsgLy8gZGVmYXVsdCBzYW1wbGUgaW50ZXJ2YWwgZm9yIHF1YW50aXplclxyXG5cdHZhciBjb21tZW50ID0gXCJHZW5lcmF0ZWQgYnkganNnaWYgKGh0dHBzOi8vZ2l0aHViLmNvbS9hbnRpbWF0dGVyMTUvanNnaWYvKVwiOyAvLyBkZWZhdWx0IGNvbW1lbnQgZm9yIGdlbmVyYXRlZCBnaWZcclxuXHJcblx0LyoqXHJcblx0ICogU2V0cyB0aGUgZGVsYXkgdGltZSBiZXR3ZWVuIGVhY2ggZnJhbWUsIG9yIGNoYW5nZXMgaXQgZm9yIHN1YnNlcXVlbnQgZnJhbWVzXHJcblx0ICogKGFwcGxpZXMgdG8gbGFzdCBmcmFtZSBhZGRlZClcclxuXHQgKiBpbnQgZGVsYXkgdGltZSBpbiBtaWxsaXNlY29uZHNcclxuXHQgKiBAcGFyYW0gbXNcclxuXHQgKi9cclxuXHJcblx0dmFyIHNldERlbGF5ID0gZXhwb3J0cy5zZXREZWxheSA9IGZ1bmN0aW9uIHNldERlbGF5KG1zKSB7XHJcblx0XHRkZWxheSA9IE1hdGgucm91bmQobXMgLyAxMCk7XHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogU2V0cyB0aGUgR0lGIGZyYW1lIGRpc3Bvc2FsIGNvZGUgZm9yIHRoZSBsYXN0IGFkZGVkIGZyYW1lIGFuZCBhbnlcclxuXHQgKlxyXG5cdCAqIHN1YnNlcXVlbnQgZnJhbWVzLiBEZWZhdWx0IGlzIDAgaWYgbm8gdHJhbnNwYXJlbnQgY29sb3IgaGFzIGJlZW4gc2V0LFxyXG5cdCAqIG90aGVyd2lzZSAyLlxyXG5cdCAqIEBwYXJhbSBjb2RlXHJcblx0ICogaW50IGRpc3Bvc2FsIGNvZGUuXHJcblx0ICovXHJcblxyXG5cdHZhciBzZXREaXNwb3NlID0gZXhwb3J0cy5zZXREaXNwb3NlID0gZnVuY3Rpb24gc2V0RGlzcG9zZShjb2RlKSB7XHJcblx0XHRpZiAoY29kZSA+PSAwKSBkaXNwb3NlID0gY29kZTtcclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBTZXRzIHRoZSBudW1iZXIgb2YgdGltZXMgdGhlIHNldCBvZiBHSUYgZnJhbWVzIHNob3VsZCBiZSBwbGF5ZWQuIERlZmF1bHQgaXNcclxuXHQgKiAxOyAwIG1lYW5zIHBsYXkgaW5kZWZpbml0ZWx5LiBNdXN0IGJlIGludm9rZWQgYmVmb3JlIHRoZSBmaXJzdCBpbWFnZSBpc1xyXG5cdCAqIGFkZGVkLlxyXG5cdCAqXHJcblx0ICogQHBhcmFtIGl0ZXJcclxuXHQgKiBpbnQgbnVtYmVyIG9mIGl0ZXJhdGlvbnMuXHJcblx0ICogQHJldHVyblxyXG5cdCAqL1xyXG5cclxuXHR2YXIgc2V0UmVwZWF0ID0gZXhwb3J0cy5zZXRSZXBlYXQgPSBmdW5jdGlvbiBzZXRSZXBlYXQoaXRlcikge1xyXG5cdFx0aWYgKGl0ZXIgPj0gMCkgcmVwZWF0ID0gaXRlcjtcclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBTZXRzIHRoZSB0cmFuc3BhcmVudCBjb2xvciBmb3IgdGhlIGxhc3QgYWRkZWQgZnJhbWUgYW5kIGFueSBzdWJzZXF1ZW50XHJcblx0ICogZnJhbWVzLiBTaW5jZSBhbGwgY29sb3JzIGFyZSBzdWJqZWN0IHRvIG1vZGlmaWNhdGlvbiBpbiB0aGUgcXVhbnRpemF0aW9uXHJcblx0ICogcHJvY2VzcywgdGhlIGNvbG9yIGluIHRoZSBmaW5hbCBwYWxldHRlIGZvciBlYWNoIGZyYW1lIGNsb3Nlc3QgdG8gdGhlIGdpdmVuXHJcblx0ICogY29sb3IgYmVjb21lcyB0aGUgdHJhbnNwYXJlbnQgY29sb3IgZm9yIHRoYXQgZnJhbWUuIE1heSBiZSBzZXQgdG8gbnVsbCB0b1xyXG5cdCAqIGluZGljYXRlIG5vIHRyYW5zcGFyZW50IGNvbG9yLlxyXG5cdCAqIEBwYXJhbVxyXG5cdCAqIENvbG9yIHRvIGJlIHRyZWF0ZWQgYXMgdHJhbnNwYXJlbnQgb24gZGlzcGxheS5cclxuXHQgKi9cclxuXHJcblx0dmFyIHNldFRyYW5zcGFyZW50ID0gZXhwb3J0cy5zZXRUcmFuc3BhcmVudCA9IGZ1bmN0aW9uIHNldFRyYW5zcGFyZW50KGMpIHtcclxuXHRcdHRyYW5zcGFyZW50ID0gYztcclxuXHR9O1xyXG5cclxuXHJcblx0LyoqXHJcblx0ICogU2V0cyB0aGUgY29tbWVudCBmb3IgdGhlIGJsb2NrIGNvbW1lbnRcclxuXHQgKiBAcGFyYW1cclxuXHQgKiBzdHJpbmcgdG8gYmUgaW5zdGVydGVkIGFzIGNvbW1lbnRcclxuXHQgKi9cclxuXHJcblx0dmFyIHNldENvbW1lbnQgPSBleHBvcnRzLnNldENvbW1lbnQgPSBmdW5jdGlvbiBzZXRDb21tZW50KGMpIHtcclxuXHRcdGNvbW1lbnQgPSBjO1xyXG5cdH07XHJcblxyXG5cclxuXHJcblx0LyoqXHJcblx0ICogVGhlIGFkZEZyYW1lIG1ldGhvZCB0YWtlcyBhbiBpbmNvbWluZyBCaXRtYXBEYXRhIG9iamVjdCB0byBjcmVhdGUgZWFjaCBmcmFtZXNcclxuXHQgKiBAcGFyYW1cclxuXHQgKiBCaXRtYXBEYXRhIG9iamVjdCB0byBiZSB0cmVhdGVkIGFzIGEgR0lGJ3MgZnJhbWVcclxuXHQgKi9cclxuXHJcblx0dmFyIGFkZEZyYW1lID0gZXhwb3J0cy5hZGRGcmFtZSA9IGZ1bmN0aW9uIGFkZEZyYW1lKGltLCBpc19pbWFnZURhdGEpIHtcclxuXHJcblx0XHRpZiAoKGltID09PSBudWxsKSB8fCAhc3RhcnRlZCB8fCBvdXQgPT09IG51bGwpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiUGxlYXNlIGNhbGwgc3RhcnQgbWV0aG9kIGJlZm9yZSBjYWxsaW5nIGFkZEZyYW1lXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHZhciBvayA9IHRydWU7XHJcblxyXG5cdFx0dHJ5IHtcclxuXHRcdFx0aWYgKCFpc19pbWFnZURhdGEpIHtcclxuXHRcdFx0XHRpbWFnZSA9IGltLmdldEltYWdlRGF0YSgwLCAwLCBpbS5jYW52YXMud2lkdGgsIGltLmNhbnZhcy5oZWlnaHQpLmRhdGE7XHJcblx0XHRcdFx0aWYgKCFzaXplU2V0KSBzZXRTaXplKGltLmNhbnZhcy53aWR0aCwgaW0uY2FudmFzLmhlaWdodCk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0aWYoaW0gaW5zdGFuY2VvZiBJbWFnZURhdGEpIHtcclxuXHRcdFx0XHRcdGltYWdlID0gaW0uZGF0YTtcclxuXHRcdFx0XHRcdGlmKCFzaXplc2V0IHx8IHdpZHRoIT1pbS53aWR0aCB8fCBoZWlnaHQhPWltLmhlaWdodCkge1xyXG5cdFx0XHRcdFx0XHRzZXRTaXplKGltLndpZHRoLGltLmhlaWdodCk7XHJcblx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9IGVsc2UgaWYoaW0gaW5zdGFuY2VvZiBVaW50OENsYW1wZWRBcnJheSkge1xyXG5cdFx0XHRcdFx0aWYoaW0ubGVuZ3RoPT0od2lkdGgqaGVpZ2h0KjQpKSB7XHJcblx0XHRcdFx0XHRcdGltYWdlPWltO1xyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coXCJQbGVhc2Ugc2V0IHRoZSBjb3JyZWN0IHNpemU6IEltYWdlRGF0YSBsZW5ndGggbWlzbWF0Y2hcIik7XHJcblx0XHRcdFx0XHRcdG9rPWZhbHNlO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhcIlBsZWFzZSBwcm92aWRlIGNvcnJlY3QgaW5wdXRcIik7XHJcblx0XHRcdFx0XHRvaz1mYWxzZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0Z2V0SW1hZ2VQaXhlbHMoKTsgLy8gY29udmVydCB0byBjb3JyZWN0IGZvcm1hdCBpZiBuZWNlc3NhcnlcclxuXHRcdFx0YW5hbHl6ZVBpeGVscygpOyAvLyBidWlsZCBjb2xvciB0YWJsZSAmIG1hcCBwaXhlbHNcclxuXHJcblx0XHRcdGlmIChmaXJzdEZyYW1lKSB7XHJcblx0XHRcdFx0d3JpdGVMU0QoKTsgLy8gbG9naWNhbCBzY3JlZW4gZGVzY3JpcHRpb3JcclxuXHRcdFx0XHR3cml0ZVBhbGV0dGUoKTsgLy8gZ2xvYmFsIGNvbG9yIHRhYmxlXHJcblx0XHRcdFx0aWYgKHJlcGVhdCA+PSAwKSB7XHJcblx0XHRcdFx0XHQvLyB1c2UgTlMgYXBwIGV4dGVuc2lvbiB0byBpbmRpY2F0ZSByZXBzXHJcblx0XHRcdFx0XHR3cml0ZU5ldHNjYXBlRXh0KCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR3cml0ZUdyYXBoaWNDdHJsRXh0KCk7IC8vIHdyaXRlIGdyYXBoaWMgY29udHJvbCBleHRlbnNpb25cclxuXHRcdFx0aWYgKGNvbW1lbnQgIT09ICcnKSB7XHJcblx0XHRcdFx0d3JpdGVDb21tZW50RXh0KCk7IC8vIHdyaXRlIGNvbW1lbnQgZXh0ZW5zaW9uXHJcblx0XHRcdH1cclxuXHRcdFx0d3JpdGVJbWFnZURlc2MoKTsgLy8gaW1hZ2UgZGVzY3JpcHRvclxyXG5cdFx0XHRpZiAoIWZpcnN0RnJhbWUpIHdyaXRlUGFsZXR0ZSgpOyAvLyBsb2NhbCBjb2xvciB0YWJsZVxyXG5cdFx0XHR3cml0ZVBpeGVscygpOyAvLyBlbmNvZGUgYW5kIHdyaXRlIHBpeGVsIGRhdGFcclxuXHRcdFx0Zmlyc3RGcmFtZSA9IGZhbHNlO1xyXG5cdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRvayA9IGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBvaztcclxuXHR9O1xyXG5cdFxyXG5cdC8qKlxyXG5cdCogQGRlc2NyaXB0aW9uOiBEb3dubG9hZHMgdGhlIGVuY29kZWQgZ2lmIHdpdGggdGhlIGdpdmVuIG5hbWVcclxuXHQqIE5vIG5lZWQgb2YgYW55IGNvbnZlcnNpb24gZnJvbSB0aGUgc3RyZWFtIGRhdGEgKG91dCkgdG8gYmFzZTY0XHJcblx0KiBTb2x2ZXMgdGhlIGlzc3VlIG9mIGxhcmdlIGZpbGUgc2l6ZXMgd2hlbiB0aGVyZSBhcmUgbW9yZSBmcmFtZXNcclxuXHQqIGFuZCBkb2VzIG5vdCBpbnZvbHZlIGluIGNyZWF0aW9uIG9mIGFueSB0ZW1wb3JhcnkgZGF0YSBpbiB0aGUgcHJvY2Vzc1xyXG5cdCogc28gbm8gd2FzdGFnZSBvZiBtZW1vcnksIGFuZCBzcGVlZHMgdXAgdGhlIHByb2Nlc3Mgb2YgZG93bmxvYWRpbmdcclxuXHQqIHRvIGp1c3QgY2FsbGluZyB0aGlzIGZ1bmN0aW9uLlxyXG5cdCogQHBhcmFtZXRlciB7U3RyaW5nfSBmaWxlbmFtZSBmaWxlbmFtZSB1c2VkIGZvciBkb3dubG9hZGluZyB0aGUgZ2lmXHJcblx0Ki9cclxuXHRcclxuXHR2YXIgZG93bmxvYWQgPSBleHBvcnRzLmRvd25sb2FkID0gZnVuY3Rpb24gZG93bmxvYWQoZmlsZW5hbWUpIHtcclxuXHRcdGlmKG91dD09PW51bGwgfHwgY2xvc2VTdHJlYW09PWZhbHNlKSB7XHJcblx0XHRcdGNvbnNvbGUubG9nKFwiUGxlYXNlIGNhbGwgc3RhcnQgbWV0aG9kIGFuZCBhZGQgZnJhbWVzIGFuZCBjYWxsIGZpbmlzaCBtZXRob2QgYmVmb3JlIGNhbGxpbmcgZG93bmxvYWRcIik7IFxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0ZmlsZW5hbWU9IGZpbGVuYW1lICE9PSB1bmRlZmluZWQgPyAoIGZpbGVuYW1lLmVuZHNXaXRoKFwiLmdpZlwiKT8gZmlsZW5hbWU6IGZpbGVuYW1lK1wiLmdpZlwiICk6IFwiZG93bmxvYWQuZ2lmXCI7XHJcblx0XHRcdHZhciB0ZW1wbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO1xyXG5cdFx0XHR0ZW1wbGluay5kb3dubG9hZD1maWxlbmFtZTtcclxuXHRcdFx0dGVtcGxpbmsuaHJlZj0gVVJMLmNyZWF0ZU9iamVjdFVSTChuZXcgQmxvYihbbmV3IFVpbnQ4QXJyYXkob3V0LmJpbildLCB7dHlwZSA6IFwiaW1hZ2UvZ2lmXCIgfSApKTtcclxuXHRcdFx0dGVtcGxpbmsuY2xpY2soKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEFkZHMgZmluYWwgdHJhaWxlciB0byB0aGUgR0lGIHN0cmVhbSwgaWYgeW91IGRvbid0IGNhbGwgdGhlIGZpbmlzaCBtZXRob2RcclxuXHQgKiB0aGUgR0lGIHN0cmVhbSB3aWxsIG5vdCBiZSB2YWxpZC5cclxuXHQgKi9cclxuXHJcblx0dmFyIGZpbmlzaCA9IGV4cG9ydHMuZmluaXNoID0gZnVuY3Rpb24gZmluaXNoKCkge1xyXG5cclxuXHRcdGlmICghc3RhcnRlZCkgcmV0dXJuIGZhbHNlO1xyXG5cclxuXHRcdHZhciBvayA9IHRydWU7XHJcblx0XHRzdGFydGVkID0gZmFsc2U7XHJcblxyXG5cdFx0dHJ5IHtcclxuXHRcdFx0b3V0LndyaXRlQnl0ZSgweDNiKTsgLy8gZ2lmIHRyYWlsZXJcclxuXHRcdFx0Y2xvc2VTdHJlYW09dHJ1ZTtcclxuXHRcdH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0b2sgPSBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gb2s7XHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogUmVzZXRzIHNvbWUgbWVtYmVycyBzbyB0aGF0IGEgbmV3IHN0cmVhbSBjYW4gYmUgc3RhcnRlZC5cclxuXHQgKiBUaGlzIG1ldGhvZCBpcyBhY3R1YWxseSBjYWxsZWQgYnkgdGhlIHN0YXJ0IG1ldGhvZFxyXG5cdCAqL1xyXG5cclxuXHR2YXIgcmVzZXQgPSBmdW5jdGlvbiByZXNldCgpIHtcclxuXHJcblx0XHQvLyByZXNldCBmb3Igc3Vic2VxdWVudCB1c2VcclxuXHRcdHRyYW5zSW5kZXggPSAwO1xyXG5cdFx0aW1hZ2UgPSBudWxsO1xyXG5cdFx0cGl4ZWxzID0gbnVsbDtcclxuXHRcdGluZGV4ZWRQaXhlbHMgPSBudWxsO1xyXG5cdFx0Y29sb3JUYWIgPSBudWxsO1xyXG5cdFx0Y2xvc2VTdHJlYW0gPSBmYWxzZTtcclxuXHRcdGZpcnN0RnJhbWUgPSB0cnVlO1xyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqICogU2V0cyBmcmFtZSByYXRlIGluIGZyYW1lcyBwZXIgc2Vjb25kLiBFcXVpdmFsZW50IHRvXHJcblx0ICogPGNvZGU+c2V0RGVsYXkoMTAwMC9mcHMpPC9jb2RlPi5cclxuXHQgKiBAcGFyYW0gZnBzXHJcblx0ICogZmxvYXQgZnJhbWUgcmF0ZSAoZnJhbWVzIHBlciBzZWNvbmQpXHJcblx0ICovXHJcblxyXG5cdHZhciBzZXRGcmFtZVJhdGUgPSBleHBvcnRzLnNldEZyYW1lUmF0ZSA9IGZ1bmN0aW9uIHNldEZyYW1lUmF0ZShmcHMpIHtcclxuXHRcdGlmIChmcHMgIT0gMHhmKSBkZWxheSA9IE1hdGgucm91bmQoMTAwIC8gZnBzKTtcclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBTZXRzIHF1YWxpdHkgb2YgY29sb3IgcXVhbnRpemF0aW9uIChjb252ZXJzaW9uIG9mIGltYWdlcyB0byB0aGUgbWF4aW11bSAyNTZcclxuXHQgKiBjb2xvcnMgYWxsb3dlZCBieSB0aGUgR0lGIHNwZWNpZmljYXRpb24pLiBMb3dlciB2YWx1ZXMgKG1pbmltdW0gPSAxKVxyXG5cdCAqIHByb2R1Y2UgYmV0dGVyIGNvbG9ycywgYnV0IHNsb3cgcHJvY2Vzc2luZyBzaWduaWZpY2FudGx5LiAxMCBpcyB0aGVcclxuXHQgKiBkZWZhdWx0LCBhbmQgcHJvZHVjZXMgZ29vZCBjb2xvciBtYXBwaW5nIGF0IHJlYXNvbmFibGUgc3BlZWRzLiBWYWx1ZXNcclxuXHQgKiBncmVhdGVyIHRoYW4gMjAgZG8gbm90IHlpZWxkIHNpZ25pZmljYW50IGltcHJvdmVtZW50cyBpbiBzcGVlZC5cclxuXHQgKiBAcGFyYW0gcXVhbGl0eVxyXG5cdCAqIGludCBncmVhdGVyIHRoYW4gMC5cclxuXHQgKiBAcmV0dXJuXHJcblx0ICovXHJcblxyXG5cdHZhciBzZXRRdWFsaXR5ID0gZXhwb3J0cy5zZXRRdWFsaXR5ID0gZnVuY3Rpb24gc2V0UXVhbGl0eShxdWFsaXR5KSB7XHJcblx0XHRpZiAocXVhbGl0eSA8IDEpIHF1YWxpdHkgPSAxO1xyXG5cdFx0c2FtcGxlID0gcXVhbGl0eTtcclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBTZXRzIHRoZSBHSUYgZnJhbWUgc2l6ZS4gVGhlIGRlZmF1bHQgc2l6ZSBpcyB0aGUgc2l6ZSBvZiB0aGUgZmlyc3QgZnJhbWVcclxuXHQgKiBhZGRlZCBpZiB0aGlzIG1ldGhvZCBpcyBub3QgaW52b2tlZC5cclxuXHQgKiBAcGFyYW0gd1xyXG5cdCAqIGludCBmcmFtZSB3aWR0aC5cclxuXHQgKiBAcGFyYW0gaFxyXG5cdCAqIGludCBmcmFtZSB3aWR0aC5cclxuXHQgKi9cclxuXHJcblx0dmFyIHNldFNpemUgPSBleHBvcnRzLnNldFNpemUgPSBmdW5jdGlvbiBzZXRTaXplKHcsIGgpIHtcclxuXHJcblx0XHRpZiAoc3RhcnRlZCAmJiAhZmlyc3RGcmFtZSkgcmV0dXJuO1xyXG5cdFx0d2lkdGggPSB3O1xyXG5cdFx0aGVpZ2h0ID0gaDtcclxuXHRcdGlmICh3aWR0aCA8IDEpIHdpZHRoID0gMzIwO1xyXG5cdFx0aWYgKGhlaWdodCA8IDEpIGhlaWdodCA9IDI0MDtcclxuXHRcdHNpemVTZXQgPSB0cnVlO1xyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIEluaXRpYXRlcyBHSUYgZmlsZSBjcmVhdGlvbiBvbiB0aGUgZ2l2ZW4gc3RyZWFtLlxyXG5cdCAqIEBwYXJhbSBvc1xyXG5cdCAqIE91dHB1dFN0cmVhbSBvbiB3aGljaCBHSUYgaW1hZ2VzIGFyZSB3cml0dGVuLlxyXG5cdCAqIEByZXR1cm4gZmFsc2UgaWYgaW5pdGlhbCB3cml0ZSBmYWlsZWQuXHJcblx0ICovXHJcblxyXG5cdHZhciBzdGFydCA9IGV4cG9ydHMuc3RhcnQgPSBmdW5jdGlvbiBzdGFydCgpIHtcclxuXHJcblx0XHRyZXNldCgpO1xyXG5cdFx0dmFyIG9rID0gdHJ1ZTtcclxuXHRcdGNsb3NlU3RyZWFtID0gZmFsc2U7XHJcblx0XHRvdXQgPSBuZXcgQnl0ZUFycmF5KCk7XHJcblx0XHR0cnkge1xyXG5cdFx0XHRvdXQud3JpdGVVVEZCeXRlcyhcIkdJRjg5YVwiKTsgLy8gaGVhZGVyXHJcblx0XHR9IGNhdGNoIChlKSB7XHJcblx0XHRcdG9rID0gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHN0YXJ0ZWQgPSBvaztcclxuXHR9O1xyXG5cclxuXHR2YXIgY29udCA9IGV4cG9ydHMuY29udCA9IGZ1bmN0aW9uIGNvbnQoKSB7XHJcblxyXG5cdFx0cmVzZXQoKTtcclxuXHRcdHZhciBvayA9IHRydWU7XHJcblx0XHRjbG9zZVN0cmVhbSA9IGZhbHNlO1xyXG5cdFx0b3V0ID0gbmV3IEJ5dGVBcnJheSgpO1xyXG5cclxuXHRcdHJldHVybiBzdGFydGVkID0gb2s7XHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogQW5hbHl6ZXMgaW1hZ2UgY29sb3JzIGFuZCBjcmVhdGVzIGNvbG9yIG1hcC5cclxuXHQgKi9cclxuXHJcblx0dmFyIGFuYWx5emVQaXhlbHMgPSBmdW5jdGlvbiBhbmFseXplUGl4ZWxzKCkge1xyXG5cclxuXHRcdHZhciBsZW4gPSBwaXhlbHMubGVuZ3RoO1xyXG5cdFx0dmFyIG5QaXggPSBsZW4gLyAzO1xyXG5cdFx0aW5kZXhlZFBpeGVscyA9IFtdO1xyXG5cdFx0dmFyIG5xID0gbmV3IE5ldVF1YW50KHBpeGVscywgbGVuLCBzYW1wbGUpO1xyXG5cclxuXHRcdC8vIGluaXRpYWxpemUgcXVhbnRpemVyXHJcblx0XHRjb2xvclRhYiA9IG5xLnByb2Nlc3MoKTsgLy8gY3JlYXRlIHJlZHVjZWQgcGFsZXR0ZVxyXG5cclxuXHRcdC8vIG1hcCBpbWFnZSBwaXhlbHMgdG8gbmV3IHBhbGV0dGVcclxuXHRcdHZhciBrID0gMDtcclxuXHRcdGZvciAodmFyIGogPSAwOyBqIDwgblBpeDsgaisrKSB7XHJcblx0XHRcdHZhciBpbmRleCA9IG5xLm1hcChwaXhlbHNbaysrXSAmIDB4ZmYsIHBpeGVsc1trKytdICYgMHhmZiwgcGl4ZWxzW2srK10gJiAweGZmKTtcclxuXHRcdFx0dXNlZEVudHJ5W2luZGV4XSA9IHRydWU7XHJcblx0XHRcdGluZGV4ZWRQaXhlbHNbal0gPSBpbmRleDtcclxuXHRcdH1cclxuXHJcblx0XHRwaXhlbHMgPSBudWxsO1xyXG5cdFx0Y29sb3JEZXB0aCA9IDg7XHJcblx0XHRwYWxTaXplID0gNztcclxuXHJcblx0XHQvLyBnZXQgY2xvc2VzdCBtYXRjaCB0byB0cmFuc3BhcmVudCBjb2xvciBpZiBzcGVjaWZpZWRcclxuXHRcdGlmICh0cmFuc3BhcmVudCAhPT0gbnVsbCkge1xyXG5cdFx0XHR0cmFuc0luZGV4ID0gZmluZENsb3Nlc3QodHJhbnNwYXJlbnQpO1xyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIFJldHVybnMgaW5kZXggb2YgcGFsZXR0ZSBjb2xvciBjbG9zZXN0IHRvIGNcclxuXHQgKi9cclxuXHJcblx0dmFyIGZpbmRDbG9zZXN0ID0gZnVuY3Rpb24gZmluZENsb3Nlc3QoYykge1xyXG5cclxuXHRcdGlmIChjb2xvclRhYiA9PT0gbnVsbCkgcmV0dXJuIC0xO1xyXG5cdFx0dmFyIHIgPSAoYyAmIDB4RkYwMDAwKSA+PiAxNjtcclxuXHRcdHZhciBnID0gKGMgJiAweDAwRkYwMCkgPj4gODtcclxuXHRcdHZhciBiID0gKGMgJiAweDAwMDBGRik7XHJcblx0XHR2YXIgbWlucG9zID0gMDtcclxuXHRcdHZhciBkbWluID0gMjU2ICogMjU2ICogMjU2O1xyXG5cdFx0dmFyIGxlbiA9IGNvbG9yVGFiLmxlbmd0aDtcclxuXHJcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGxlbjspIHtcclxuXHRcdFx0dmFyIGRyID0gciAtIChjb2xvclRhYltpKytdICYgMHhmZik7XHJcblx0XHRcdHZhciBkZyA9IGcgLSAoY29sb3JUYWJbaSsrXSAmIDB4ZmYpO1xyXG5cdFx0XHR2YXIgZGIgPSBiIC0gKGNvbG9yVGFiW2ldICYgMHhmZik7XHJcblx0XHRcdHZhciBkID0gZHIgKiBkciArIGRnICogZGcgKyBkYiAqIGRiO1xyXG5cdFx0XHR2YXIgaW5kZXggPSBpIC8gMztcclxuXHRcdFx0aWYgKHVzZWRFbnRyeVtpbmRleF0gJiYgKGQgPCBkbWluKSkge1xyXG5cdFx0XHRcdGRtaW4gPSBkO1xyXG5cdFx0XHRcdG1pbnBvcyA9IGluZGV4O1xyXG5cdFx0XHR9XHJcblx0XHRcdGkrKztcclxuXHRcdH1cclxuXHRcdHJldHVybiBtaW5wb3M7XHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogRXh0cmFjdHMgaW1hZ2UgcGl4ZWxzIGludG8gYnl0ZSBhcnJheSBcInBpeGVsc1xyXG5cdCAqL1xyXG5cclxuXHR2YXIgZ2V0SW1hZ2VQaXhlbHMgPSBmdW5jdGlvbiBnZXRJbWFnZVBpeGVscygpIHtcclxuXHRcdHZhciB3ID0gd2lkdGg7XHJcblx0XHR2YXIgaCA9IGhlaWdodDtcclxuXHRcdHBpeGVscyA9IFtdO1xyXG5cdFx0dmFyIGRhdGEgPSBpbWFnZTtcclxuXHRcdHZhciBjb3VudCA9IDA7XHJcblxyXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBoOyBpKyspIHtcclxuXHJcblx0XHRcdGZvciAodmFyIGogPSAwOyBqIDwgdzsgaisrKSB7XHJcblxyXG5cdFx0XHRcdHZhciBiID0gKGkgKiB3ICogNCkgKyBqICogNDtcclxuXHRcdFx0XHRwaXhlbHNbY291bnQrK10gPSBkYXRhW2JdO1xyXG5cdFx0XHRcdHBpeGVsc1tjb3VudCsrXSA9IGRhdGFbYiArIDFdO1xyXG5cdFx0XHRcdHBpeGVsc1tjb3VudCsrXSA9IGRhdGFbYiArIDJdO1xyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBXcml0ZXMgR3JhcGhpYyBDb250cm9sIEV4dGVuc2lvblxyXG5cdCAqL1xyXG5cclxuXHR2YXIgd3JpdGVHcmFwaGljQ3RybEV4dCA9IGZ1bmN0aW9uIHdyaXRlR3JhcGhpY0N0cmxFeHQoKSB7XHJcblx0XHRvdXQud3JpdGVCeXRlKDB4MjEpOyAvLyBleHRlbnNpb24gaW50cm9kdWNlclxyXG5cdFx0b3V0LndyaXRlQnl0ZSgweGY5KTsgLy8gR0NFIGxhYmVsXHJcblx0XHRvdXQud3JpdGVCeXRlKDQpOyAvLyBkYXRhIGJsb2NrIHNpemVcclxuXHRcdHZhciB0cmFuc3A7XHJcblx0XHR2YXIgZGlzcDtcclxuXHRcdGlmICh0cmFuc3BhcmVudCA9PT0gbnVsbCkge1xyXG5cdFx0XHR0cmFuc3AgPSAwO1xyXG5cdFx0XHRkaXNwID0gMDsgLy8gZGlzcG9zZSA9IG5vIGFjdGlvblxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dHJhbnNwID0gMTtcclxuXHRcdFx0ZGlzcCA9IDI7IC8vIGZvcmNlIGNsZWFyIGlmIHVzaW5nIHRyYW5zcGFyZW50IGNvbG9yXHJcblx0XHR9XHJcblx0XHRpZiAoZGlzcG9zZSA+PSAwKSB7XHJcblx0XHRcdGRpc3AgPSBkaXNwb3NlICYgNzsgLy8gdXNlciBvdmVycmlkZVxyXG5cdFx0fVxyXG5cdFx0ZGlzcCA8PD0gMjtcclxuXHRcdC8vIHBhY2tlZCBmaWVsZHNcclxuXHRcdG91dC53cml0ZUJ5dGUoMCB8IC8vIDE6MyByZXNlcnZlZFxyXG5cdFx0XHRkaXNwIHwgLy8gNDo2IGRpc3Bvc2FsXHJcblx0XHRcdDAgfCAvLyA3IHVzZXIgaW5wdXQgLSAwID0gbm9uZVxyXG5cdFx0XHR0cmFuc3ApOyAvLyA4IHRyYW5zcGFyZW5jeSBmbGFnXHJcblxyXG5cdFx0V3JpdGVTaG9ydChkZWxheSk7IC8vIGRlbGF5IHggMS8xMDAgc2VjXHJcblx0XHRvdXQud3JpdGVCeXRlKHRyYW5zSW5kZXgpOyAvLyB0cmFuc3BhcmVudCBjb2xvciBpbmRleFxyXG5cdFx0b3V0LndyaXRlQnl0ZSgwKTsgLy8gYmxvY2sgdGVybWluYXRvclxyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIFdyaXRlcyBDb21tZW50IEV4dGVudGlvblxyXG5cdCAqL1xyXG5cclxuXHR2YXIgd3JpdGVDb21tZW50RXh0ID0gZnVuY3Rpb24gd3JpdGVDb21tZW50RXh0KCkge1xyXG5cdFx0b3V0LndyaXRlQnl0ZSgweDIxKTsgLy8gZXh0ZW5zaW9uIGludHJvZHVjZXJcclxuXHRcdG91dC53cml0ZUJ5dGUoMHhmZSk7IC8vIGNvbW1lbnQgbGFiZWxcclxuXHRcdG91dC53cml0ZUJ5dGUoY29tbWVudC5sZW5ndGgpOyAvLyBCbG9jayBTaXplIChzKVxyXG5cdFx0b3V0LndyaXRlVVRGQnl0ZXMoY29tbWVudCk7XHJcblx0XHRvdXQud3JpdGVCeXRlKDApOyAvLyBibG9jayB0ZXJtaW5hdG9yXHJcblx0fTtcclxuXHJcblxyXG5cdC8qKlxyXG5cdCAqIFdyaXRlcyBJbWFnZSBEZXNjcmlwdG9yXHJcblx0ICovXHJcblxyXG5cdHZhciB3cml0ZUltYWdlRGVzYyA9IGZ1bmN0aW9uIHdyaXRlSW1hZ2VEZXNjKCkge1xyXG5cclxuXHRcdG91dC53cml0ZUJ5dGUoMHgyYyk7IC8vIGltYWdlIHNlcGFyYXRvclxyXG5cdFx0V3JpdGVTaG9ydCgwKTsgLy8gaW1hZ2UgcG9zaXRpb24geCx5ID0gMCwwXHJcblx0XHRXcml0ZVNob3J0KDApO1xyXG5cdFx0V3JpdGVTaG9ydCh3aWR0aCk7IC8vIGltYWdlIHNpemVcclxuXHRcdFdyaXRlU2hvcnQoaGVpZ2h0KTtcclxuXHJcblx0XHQvLyBwYWNrZWQgZmllbGRzXHJcblx0XHRpZiAoZmlyc3RGcmFtZSkge1xyXG5cdFx0XHQvLyBubyBMQ1QgLSBHQ1QgaXMgdXNlZCBmb3IgZmlyc3QgKG9yIG9ubHkpIGZyYW1lXHJcblx0XHRcdG91dC53cml0ZUJ5dGUoMCk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHQvLyBzcGVjaWZ5IG5vcm1hbCBMQ1RcclxuXHRcdFx0b3V0LndyaXRlQnl0ZSgweDgwIHwgLy8gMSBsb2NhbCBjb2xvciB0YWJsZSAxPXllc1xyXG5cdFx0XHRcdDAgfCAvLyAyIGludGVybGFjZSAtIDA9bm9cclxuXHRcdFx0XHQwIHwgLy8gMyBzb3J0ZWQgLSAwPW5vXHJcblx0XHRcdFx0MCB8IC8vIDQtNSByZXNlcnZlZFxyXG5cdFx0XHRcdHBhbFNpemUpOyAvLyA2LTggc2l6ZSBvZiBjb2xvciB0YWJsZVxyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIFdyaXRlcyBMb2dpY2FsIFNjcmVlbiBEZXNjcmlwdG9yXHJcblx0ICovXHJcblxyXG5cdHZhciB3cml0ZUxTRCA9IGZ1bmN0aW9uIHdyaXRlTFNEKCkge1xyXG5cclxuXHRcdC8vIGxvZ2ljYWwgc2NyZWVuIHNpemVcclxuXHRcdFdyaXRlU2hvcnQod2lkdGgpO1xyXG5cdFx0V3JpdGVTaG9ydChoZWlnaHQpO1xyXG5cdFx0Ly8gcGFja2VkIGZpZWxkc1xyXG5cdFx0b3V0LndyaXRlQnl0ZSgoMHg4MCB8IC8vIDEgOiBnbG9iYWwgY29sb3IgdGFibGUgZmxhZyA9IDEgKGdjdCB1c2VkKVxyXG5cdFx0XHQweDcwIHwgLy8gMi00IDogY29sb3IgcmVzb2x1dGlvbiA9IDdcclxuXHRcdFx0MHgwMCB8IC8vIDUgOiBnY3Qgc29ydCBmbGFnID0gMFxyXG5cdFx0XHRwYWxTaXplKSk7IC8vIDYtOCA6IGdjdCBzaXplXHJcblxyXG5cdFx0b3V0LndyaXRlQnl0ZSgwKTsgLy8gYmFja2dyb3VuZCBjb2xvciBpbmRleFxyXG5cdFx0b3V0LndyaXRlQnl0ZSgwKTsgLy8gcGl4ZWwgYXNwZWN0IHJhdGlvIC0gYXNzdW1lIDE6MVxyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIFdyaXRlcyBOZXRzY2FwZSBhcHBsaWNhdGlvbiBleHRlbnNpb24gdG8gZGVmaW5lIHJlcGVhdCBjb3VudC5cclxuXHQgKi9cclxuXHJcblx0dmFyIHdyaXRlTmV0c2NhcGVFeHQgPSBmdW5jdGlvbiB3cml0ZU5ldHNjYXBlRXh0KCkge1xyXG5cdFx0b3V0LndyaXRlQnl0ZSgweDIxKTsgLy8gZXh0ZW5zaW9uIGludHJvZHVjZXJcclxuXHRcdG91dC53cml0ZUJ5dGUoMHhmZik7IC8vIGFwcCBleHRlbnNpb24gbGFiZWxcclxuXHRcdG91dC53cml0ZUJ5dGUoMTEpOyAvLyBibG9jayBzaXplXHJcblx0XHRvdXQud3JpdGVVVEZCeXRlcyhcIk5FVFNDQVBFXCIgKyBcIjIuMFwiKTsgLy8gYXBwIGlkICsgYXV0aCBjb2RlXHJcblx0XHRvdXQud3JpdGVCeXRlKDMpOyAvLyBzdWItYmxvY2sgc2l6ZVxyXG5cdFx0b3V0LndyaXRlQnl0ZSgxKTsgLy8gbG9vcCBzdWItYmxvY2sgaWRcclxuXHRcdFdyaXRlU2hvcnQocmVwZWF0KTsgLy8gbG9vcCBjb3VudCAoZXh0cmEgaXRlcmF0aW9ucywgMD1yZXBlYXQgZm9yZXZlcilcclxuXHRcdG91dC53cml0ZUJ5dGUoMCk7IC8vIGJsb2NrIHRlcm1pbmF0b3JcclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBXcml0ZXMgY29sb3IgdGFibGVcclxuXHQgKi9cclxuXHJcblx0dmFyIHdyaXRlUGFsZXR0ZSA9IGZ1bmN0aW9uIHdyaXRlUGFsZXR0ZSgpIHtcclxuXHRcdG91dC53cml0ZUJ5dGVzKGNvbG9yVGFiKTtcclxuXHRcdHZhciBuID0gKDMgKiAyNTYpIC0gY29sb3JUYWIubGVuZ3RoO1xyXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBuOyBpKyspIG91dC53cml0ZUJ5dGUoMCk7XHJcblx0fTtcclxuXHJcblx0dmFyIFdyaXRlU2hvcnQgPSBmdW5jdGlvbiBXcml0ZVNob3J0KHBWYWx1ZSkge1xyXG5cdFx0b3V0LndyaXRlQnl0ZShwVmFsdWUgJiAweEZGKTtcclxuXHRcdG91dC53cml0ZUJ5dGUoKHBWYWx1ZSA+PiA4KSAmIDB4RkYpO1xyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIEVuY29kZXMgYW5kIHdyaXRlcyBwaXhlbCBkYXRhXHJcblx0ICovXHJcblxyXG5cdHZhciB3cml0ZVBpeGVscyA9IGZ1bmN0aW9uIHdyaXRlUGl4ZWxzKCkge1xyXG5cdFx0dmFyIG15ZW5jb2RlciA9IG5ldyBMWldFbmNvZGVyKHdpZHRoLCBoZWlnaHQsIGluZGV4ZWRQaXhlbHMsIGNvbG9yRGVwdGgpO1xyXG5cdFx0bXllbmNvZGVyLmVuY29kZShvdXQpO1xyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIFJldHJpZXZlcyB0aGUgR0lGIHN0cmVhbVxyXG5cdCAqL1xyXG5cclxuXHR2YXIgc3RyZWFtID0gZXhwb3J0cy5zdHJlYW0gPSBmdW5jdGlvbiBzdHJlYW0oKSB7XHJcblx0XHRyZXR1cm4gb3V0O1xyXG5cdH07XHJcblxyXG5cdHZhciBzZXRQcm9wZXJ0aWVzID0gZXhwb3J0cy5zZXRQcm9wZXJ0aWVzID0gZnVuY3Rpb24gc2V0UHJvcGVydGllcyhoYXNfc3RhcnQsIGlzX2ZpcnN0KSB7XHJcblx0XHRzdGFydGVkID0gaGFzX3N0YXJ0O1xyXG5cdFx0Zmlyc3RGcmFtZSA9IGlzX2ZpcnN0O1xyXG5cdH07XHJcblxyXG5cdHJldHVybiBleHBvcnRzO1xyXG5cclxufTtcclxuIiwiY29uc3QgREVGQVVMVF9QRU5DSUxfQ09MT1IgPSAnI2U1ODcxOSc7XG5jb25zdCBERUZBVUxUX0JBQ0tHUk9VTkRfQ09MT1IgPSAnZ3JheSc7XG5jb25zdCBERUZBVUxUX1NFTEVDVEVEX1RPT0wgPSAncGVuY2lsJztcblxuY29uc3QgRElNRU5TSU9OX1NNQUxMID0gMzI7XG5jb25zdCBESU1FTlNJT05fTUVESVVNID0gNjQ7XG5jb25zdCBESU1FTlNJT05fTEFSR0UgPSAxMjg7XG5jb25zdCBDQU5WQVNfU0laRSA9IDUxMjtcblxuY29uc3QgSE9US0VZU19QRU5DSUwgPSBbJ2UnLCAnRSddO1xuY29uc3QgSE9US0VZU19DT0xPUl9CVUNLRVQgPSBbJ2InLCAnQiddO1xuY29uc3QgSE9US0VZU19FUkFTRVIgPSBbJ3InLCAnUiddO1xuY29uc3QgSE9US0VZU19FWUVfRFJPUFBFUiA9IFsneScsICdZJ107XG5jb25zdCBIT1RLRVlTX0dJRl9FWFBPUlQgPSBbJ2cnLCAnRyddO1xuY29uc3QgSE9US0VZU19BRERfRlJBTUUgPSBbJysnXTtcbmNvbnN0IEhPVEtFWVNfREVMRVRFX0ZSQU1FID0gWyctJ107XG5jb25zdCBIT1RLRVlTX0RVUExJQ0FURV9GUkFNRSA9IFsnZCcsICdEJ107XG5cbmNvbnN0IElURU1fQ0xBU1MgPSAnd2luZG93X19pdGVtJztcbmNvbnN0IFNFTEVDVEVEX0lURU1fQ0xBU1MgPSAnd2luZG93X19pdGVtX3NlbGVjdGVkJztcblxuZXhwb3J0IHtcbiAgREVGQVVMVF9QRU5DSUxfQ09MT1IsXG4gIERFRkFVTFRfQkFDS0dST1VORF9DT0xPUixcbiAgREVGQVVMVF9TRUxFQ1RFRF9UT09MLFxuICBESU1FTlNJT05fU01BTEwsXG4gIERJTUVOU0lPTl9NRURJVU0sXG4gIERJTUVOU0lPTl9MQVJHRSxcbiAgQ0FOVkFTX1NJWkUsXG4gIEhPVEtFWVNfUEVOQ0lMLFxuICBIT1RLRVlTX0NPTE9SX0JVQ0tFVCxcbiAgSE9US0VZU19FUkFTRVIsXG4gIEhPVEtFWVNfRVlFX0RST1BQRVIsXG4gIEhPVEtFWVNfR0lGX0VYUE9SVCxcbiAgSE9US0VZU19BRERfRlJBTUUsXG4gIEhPVEtFWVNfREVMRVRFX0ZSQU1FLFxuICBIT1RLRVlTX0RVUExJQ0FURV9GUkFNRSxcbiAgSVRFTV9DTEFTUyxcbiAgU0VMRUNURURfSVRFTV9DTEFTUyxcbn07XG4iLCJpbXBvcnQgeyBJVEVNX0NMQVNTIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuXG5jb25zdCBodG1sQ2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbnZhcycpO1xuY29uc3QgaHRtbFRvb2xJdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYCN0b29scyAuJHtJVEVNX0NMQVNTfTpub3QoLmRpc2FibGVkKWApO1xuY29uc3QgaHRtbERpbWVuc2lvbkl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgI2RpbWVuc2lvbl9zd2l0Y2hlciAuJHtJVEVNX0NMQVNTfTpub3QoLmRpc2FibGVkKWApO1xuY29uc3QgaHRtbEN1ckNvbG9ySW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY3Vyci1jb2xvcicpO1xuY29uc3QgaHRtbEZyYW1lTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mcmFtZXMnKTtcbmNvbnN0IGh0bWxQcmV2aWV3ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2FuaW1hdGlvbi1wcmV2aWV3IC53aW5kb3dfX2NvbnRlbnQnKTtcbmNvbnN0IGh0bWxQcmV2aWV3U3BlZWRSYW5nZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNhbmltYXRpb24tcHJldmlldyAuYW5pbWF0aW9uLXNwZWVkX19yYW5nZScpO1xuY29uc3QgaHRtbFByZXZpZXdTcGVlZEZwcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNhbmltYXRpb24tcHJldmlldyAuYW5pbWF0aW9uLXNwZWVkX19mcHMnKTtcbmNvbnN0IGh0bWxFeHBvcnRCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXhwb3J0LWJ0bicpO1xuY29uc3QgY3R4ID0gaHRtbENhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG5leHBvcnQge1xuICBodG1sQ2FudmFzLFxuICBodG1sVG9vbEl0ZW1zLFxuICBodG1sRGltZW5zaW9uSXRlbXMsXG4gIGh0bWxDdXJDb2xvcklucHV0LFxuICBodG1sRnJhbWVMaXN0LFxuICBodG1sUHJldmlldyxcbiAgaHRtbFByZXZpZXdTcGVlZFJhbmdlLFxuICBodG1sUHJldmlld1NwZWVkRnBzLFxuICBodG1sRXhwb3J0QnRuLFxuICBjdHgsXG59O1xuIiwiaW1wb3J0IHsgaHRtbENhbnZhcywgaHRtbEZyYW1lTGlzdCwgY3R4IH0gZnJvbSAnLi9odG1sLXZhcmlhYmxlcyc7XG5pbXBvcnQgeyBDQU5WQVNfU0laRSwgREVGQVVMVF9CQUNLR1JPVU5EX0NPTE9SIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuXG5sZXQgZHJhZ2dlZEZyb21GcmFtZUluZGV4ID0gbnVsbDtcblxuY29uc3QgZnJhbWVzT2JqZWN0ID0ge1xuICBjdXJTZXNzaW9uRnJhbWVzOiBbXSxcbiAgY3VyRnJhbWVJbmRleDogMCxcblxuICAvLyBmcmFtZWxpc3QgaHRtbCBmdW5jdGlvbnNcblxuICBhZGRDc3NDbGFzc0N1cnJlbnRUb0ZyYW1lKGluZGV4KSB7XG4gICAgaHRtbEZyYW1lTGlzdC5jaGlsZHJlbltpbmRleF0uY2xhc3NMaXN0LmFkZCgnY3VycmVudC1mcmFtZScpO1xuICB9LFxuXG4gIHJlbW92ZUNzc0NsYXNzQ3VycmVudEZyb21GcmFtZShpbmRleCkge1xuICAgIGh0bWxGcmFtZUxpc3QuY2hpbGRyZW5baW5kZXhdLmNsYXNzTGlzdC5yZW1vdmUoJ2N1cnJlbnQtZnJhbWUnKTtcbiAgfSxcblxuICBkcmF3Q3VyRnJhbWVJbkZyYW1lTGlzdCgpIHtcbiAgICB0aGlzLmN1clNlc3Npb25GcmFtZXNbdGhpcy5jdXJGcmFtZUluZGV4XSA9IGh0bWxDYW52YXMudG9EYXRhVVJMKCdpbWFnZS9wbmcnKTtcbiAgICBodG1sRnJhbWVMaXN0LmNoaWxkcmVuW3RoaXMuY3VyRnJhbWVJbmRleF0uc3R5bGUgPSBgYmFja2dyb3VuZC1pbWFnZTogdXJsKFwiJHt0aGlzLmN1clNlc3Npb25GcmFtZXNbdGhpcy5jdXJGcmFtZUluZGV4XX1cIilgO1xuICB9LFxuXG4gIGRyYXdGcmFtZXNTZXJpYWxOdW1iZXJzSW5GcmFtZUxpc3QoKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBodG1sRnJhbWVMaXN0LmNoaWxkcmVuLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBodG1sRnJhbWVMaXN0LmNoaWxkcmVuW2ldLnF1ZXJ5U2VsZWN0b3IoJy5mcmFtZXNfX2l0ZW0tbnVtJykuaW5uZXJUZXh0ID0gaSArIDE7XG4gICAgfVxuICB9LFxuXG4gIGluaXRGcmFtZUxpc3QoKSB7XG4gICAgLy8g0YHQvtC30LTQsNGC0Ywg0YDQvtCy0L3QviDRgdGC0L7Qu9GM0LrQviDQutCw0LTRgNC+0LIsINGB0LrQvtC70YzQutC+INC90YPQttC90L5cbiAgICAvLyDQstC30Y/RgtGMINCy0LXRgdGMINC70LjRgdGCINC60LDQtNGA0L7QslxuICAgIC8vINC90LDRgNC40YHQvtCy0LDRgtGMINC90LAg0LrQsNC20LTQvtC8INC40Lcg0LrQsNC00YDQvtCyINGB0L7QvtGC0LLQtdGC0YHRgtCy0YPRjtGJ0YPRjiDQutCw0YDRgtC40L3QutGDXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmN1clNlc3Npb25GcmFtZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIGh0bWxGcmFtZUxpc3QuaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmVlbmQnLFxuICAgICAgICBgJHsnPGxpIGNsYXNzPVwiZnJhbWVzX19pdGVtXCIgZHJhZ2dhYmxlPVwidHJ1ZVwiPidcbiAgICAgICAgKyAnPGRpdiBjbGFzcz1cImZyYW1lc19faXRlbS1udW1cIj4nfSR7MX08L2Rpdj5gXG4gICAgICAgICsgJzxkaXYgY2xhc3M9XCJmcmFtZXNfX2J0bi1kZWxcIj4tPC9kaXY+J1xuICAgICAgICArICc8ZGl2IGNsYXNzPVwiZnJhbWVzX19idG4tYWRkXCI+KzwvZGl2PidcbiAgICAgICAgKyAnPGRpdiBjbGFzcz1cImZyYW1lc19fYnRuLWNvcHlcIj5EPC9kaXY+J1xuICAgICAgICArICc8L2xpPicpO1xuICAgICAgaHRtbEZyYW1lTGlzdC5sYXN0Q2hpbGQuc3R5bGUgPSBgYmFja2dyb3VuZC1pbWFnZTogdXJsKFwiJHt0aGlzLmN1clNlc3Npb25GcmFtZXNbaV19XCIpYDtcbiAgICB9XG4gICAgdGhpcy5kcmF3RnJhbWVzU2VyaWFsTnVtYmVyc0luRnJhbWVMaXN0KCk7XG4gICAgdGhpcy5hZGRDc3NDbGFzc0N1cnJlbnRUb0ZyYW1lKDApO1xuICB9LFxuXG4gIGFkZEZyYW1lVG9GcmFtZUxpc3QoaW5kZXgpIHtcbiAgICBodG1sRnJhbWVMaXN0LmNoaWxkcmVuW2luZGV4XS5pbnNlcnRBZGphY2VudEhUTUwoJ2FmdGVyZW5kJyxcbiAgICAgIGAkeyc8bGkgY2xhc3M9XCJmcmFtZXNfX2l0ZW1cIiBkcmFnZ2FibGU9XCJ0cnVlXCI+J1xuICAgICAgKyAnPGRpdiBjbGFzcz1cImZyYW1lc19faXRlbS1udW1cIj4nfSR7MX08L2Rpdj5gXG4gICAgICArICc8ZGl2IGNsYXNzPVwiZnJhbWVzX19idG4tZGVsXCI+LTwvZGl2PidcbiAgICAgICsgJzxkaXYgY2xhc3M9XCJmcmFtZXNfX2J0bi1hZGRcIj4rPC9kaXY+J1xuICAgICAgKyAnPGRpdiBjbGFzcz1cImZyYW1lc19fYnRuLWNvcHlcIj5EPC9kaXY+J1xuICAgICAgKyAnPC9saT4nKTtcbiAgfSxcblxuICByZW1vdmVGcmFtZUZyb21GcmFtZUxpc3QoaW5kZXgpIHtcbiAgICBodG1sRnJhbWVMaXN0LmNoaWxkcmVuW2luZGV4XS5yZW1vdmUoKTtcbiAgfSxcblxuICBnZXRDaGlsZEluZGV4SW5GcmFtZUxpc3QoY2hpbGROb2RlKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBodG1sRnJhbWVMaXN0LmNoaWxkcmVuLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBpZiAoaHRtbEZyYW1lTGlzdC5jaGlsZHJlbltpXSA9PT0gY2hpbGROb2RlKSB7XG4gICAgICAgIHJldHVybiBpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG4gIH0sXG5cbiAgZHJhd05ld0ZyYW1lSW5DYW52YXMoaW5kZXgpIHtcbiAgICAvLyBjb25zb2xlLmxvZygnbG9hZCcpO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgoKHJlc29sdmUpID0+IHtcbiAgICAgIGNvbnN0IGltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgICBpbWFnZS5jcm9zc09yaWdpbiA9ICdBbm9ueW1vdXMnO1xuICAgICAgaW1hZ2Uuc3JjID0gdGhpcy5jdXJTZXNzaW9uRnJhbWVzW2luZGV4XTtcbiAgICAgIGltYWdlLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IERFRkFVTFRfQkFDS0dST1VORF9DT0xPUjtcbiAgICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIENBTlZBU19TSVpFLCBDQU5WQVNfU0laRSk7XG4gICAgICAgIGN0eC5kcmF3SW1hZ2UoaW1hZ2UsIDAsIDAsIENBTlZBU19TSVpFLCBDQU5WQVNfU0laRSk7XG4gICAgICAgIHJlc29sdmUoKTtcbiAgICAgIH07XG4gICAgfSkpO1xuICB9LFxuXG4gIGRyYXdDbGVhckZyYW1lSW5DYW52YXMoKSB7XG4gICAgY3R4LmZpbGxTdHlsZSA9IERFRkFVTFRfQkFDS0dST1VORF9DT0xPUjtcbiAgICBjdHguZmlsbFJlY3QoMCwgMCwgQ0FOVkFTX1NJWkUsIENBTlZBU19TSVpFKTtcbiAgfSxcblxuICAvLyBmcmFtZWxpc3QgY2xpY2sgaGFuZGxlciBmdW5jdGlvbnNcblxuICBvcGVuRnJhbWUodGFyZ2V0KSB7XG4gICAgLy8gZ2V0IGZyYW1lIGluZGV4IGluIGFycmF5IGJ5IGVsZW1lbnRcbiAgICBjb25zdCBpbmRleE9mQ2xpY2tlZEZyYW1lID0gdGhpcy5nZXRDaGlsZEluZGV4SW5GcmFtZUxpc3QodGFyZ2V0KTtcbiAgICBpZiAoaW5kZXhPZkNsaWNrZWRGcmFtZSAhPT0gdGhpcy5jdXJGcmFtZUluZGV4KSB7XG4gICAgICAvLyBsb2FkIG5ldyBodG1sQ2FudmFzXG4gICAgICB0aGlzLmN1ckZyYW1lSW5kZXggPSBpbmRleE9mQ2xpY2tlZEZyYW1lO1xuICAgICAgdGhpcy5kcmF3TmV3RnJhbWVJbkNhbnZhcyh0aGlzLmN1ckZyYW1lSW5kZXgpO1xuICAgIH1cbiAgfSxcblxuICBkZWxldGVGcmFtZSh0YXJnZXQpIHtcbiAgICAvLyBjaGVjayBpZiBpdCBpcyB0aGUgb25seSBvbmUsIGlmIG5vdCAtIGRlbGV0ZSArIG1heWJlIHN3aXRjaCBjdXJyZW50IHRvIG5leHRcbiAgICBpZiAoaHRtbEZyYW1lTGlzdC5jaGlsZHJlbi5sZW5ndGggIT09IDEpIHtcbiAgICAgIGNvbnN0IGluZGV4T2ZDbGlja2VkRnJhbWUgPSB0aGlzLmdldENoaWxkSW5kZXhJbkZyYW1lTGlzdCh0YXJnZXQucGFyZW50RWxlbWVudCk7XG5cbiAgICAgIHRoaXMuY3VyU2Vzc2lvbkZyYW1lcy5zcGxpY2UoaW5kZXhPZkNsaWNrZWRGcmFtZSwgMSk7XG4gICAgICB0aGlzLnJlbW92ZUZyYW1lRnJvbUZyYW1lTGlzdChpbmRleE9mQ2xpY2tlZEZyYW1lKTtcbiAgICAgIC8vIGlmIHRoZSBkZWxldGVkIGZyYW1lIHdhcyBjdXJyZW50IGZyYW1lXG4gICAgICBpZiAodGhpcy5jdXJGcmFtZUluZGV4ID09PSBpbmRleE9mQ2xpY2tlZEZyYW1lKSB7XG4gICAgICAgIGlmIChpbmRleE9mQ2xpY2tlZEZyYW1lID09PSB0aGlzLmN1clNlc3Npb25GcmFtZXMubGVuZ3RoKSB7XG4gICAgICAgICAgdGhpcy5kcmF3TmV3RnJhbWVJbkNhbnZhcyhpbmRleE9mQ2xpY2tlZEZyYW1lIC0gMSk7XG4gICAgICAgICAgdGhpcy5jdXJGcmFtZUluZGV4IC09IDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5kcmF3TmV3RnJhbWVJbkNhbnZhcyhpbmRleE9mQ2xpY2tlZEZyYW1lKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0aGlzLmN1ckZyYW1lSW5kZXggPiBpbmRleE9mQ2xpY2tlZEZyYW1lKSB0aGlzLmN1ckZyYW1lSW5kZXggLT0gMTtcbiAgICAgIHRoaXMuZHJhd0ZyYW1lc1NlcmlhbE51bWJlcnNJbkZyYW1lTGlzdCgpO1xuICAgIH1cbiAgfSxcblxuICBhZGRGcmFtZSh0YXJnZXQpIHtcbiAgICAvLyBnZXQgZnJhbWUgaW5kZXggaW4gYXJyYXkgYnkgZWxlbWVudFxuICAgIGNvbnN0IGluZGV4T2ZDbGlja2VkRnJhbWUgPSB0aGlzLmdldENoaWxkSW5kZXhJbkZyYW1lTGlzdCh0YXJnZXQucGFyZW50RWxlbWVudCk7XG5cbiAgICAvLyBhZGQgYSBuZXcgY2xlYXIgZnJhbWVcbiAgICB0aGlzLmRyYXdDdXJGcmFtZUluRnJhbWVMaXN0KCk7XG4gICAgdGhpcy5kcmF3Q2xlYXJGcmFtZUluQ2FudmFzKCk7XG4gICAgdGhpcy5jdXJTZXNzaW9uRnJhbWVzLnNwbGljZShpbmRleE9mQ2xpY2tlZEZyYW1lICsgMSwgMCwgaHRtbENhbnZhcy50b0RhdGFVUkwoJ2ltYWdlL3BuZycpKTtcbiAgICAvLyByZWRyYXcgZnJhbWUgbGlzdFxuICAgIHRoaXMuYWRkRnJhbWVUb0ZyYW1lTGlzdChpbmRleE9mQ2xpY2tlZEZyYW1lKTtcbiAgICB0aGlzLmN1ckZyYW1lSW5kZXggPSBpbmRleE9mQ2xpY2tlZEZyYW1lICsgMTtcbiAgICB0aGlzLmRyYXdDdXJGcmFtZUluRnJhbWVMaXN0KCk7XG4gICAgdGhpcy5kcmF3RnJhbWVzU2VyaWFsTnVtYmVyc0luRnJhbWVMaXN0KCk7XG4gIH0sXG5cbiAgZHVwbGljYXRlRnJhbWUodGFyZ2V0KSB7XG4gICAgLy8gZHVwbGljYXRlIGN1cnJlbnQgZnJhbWUgYW5kIHN3aXRjaCBjdXJyZW50IGZyYW1lIHRvIG5ld1xuICAgIGNvbnN0IGluZGV4T2ZDbGlja2VkRnJhbWUgPSB0aGlzLmdldENoaWxkSW5kZXhJbkZyYW1lTGlzdCh0YXJnZXQucGFyZW50RWxlbWVudCk7XG5cbiAgICB0aGlzLmFkZEZyYW1lVG9GcmFtZUxpc3QoaW5kZXhPZkNsaWNrZWRGcmFtZSk7XG4gICAgdGhpcy5jdXJTZXNzaW9uRnJhbWVzLnNwbGljZShpbmRleE9mQ2xpY2tlZEZyYW1lICsgMSxcbiAgICAgIDAsIHRoaXMuY3VyU2Vzc2lvbkZyYW1lc1tpbmRleE9mQ2xpY2tlZEZyYW1lXSk7XG5cbiAgICB0aGlzLmN1ckZyYW1lSW5kZXggPSBpbmRleE9mQ2xpY2tlZEZyYW1lICsgMTtcblxuICAgIHRoaXMuZHJhd0ZyYW1lc1NlcmlhbE51bWJlcnNJbkZyYW1lTGlzdCgpO1xuXG4gICAgdGhpcy5kcmF3TmV3RnJhbWVJbkNhbnZhcyhpbmRleE9mQ2xpY2tlZEZyYW1lKS50aGVuKCgpID0+IHtcbiAgICAgIHRoaXMuZHJhd0N1ckZyYW1lSW5GcmFtZUxpc3QoKTtcbiAgICB9KTtcbiAgfSxcbn07XG5cbi8vIGZyYW1lcyByZWZyZXNoaW5nIHRpbWVyXG5cbnNldEludGVydmFsKCgpID0+IHtcbiAgZnJhbWVzT2JqZWN0LmRyYXdDdXJGcmFtZUluRnJhbWVMaXN0KCk7XG59LCAxMDAwKTtcblxuLy8gZnJhbWUgbGlzdCBidG4gaGFuZGxlclxuXG5odG1sRnJhbWVMaXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gIGNvbnN0IHsgdGFyZ2V0IH0gPSBldmVudDtcbiAgZnJhbWVzT2JqZWN0LnJlbW92ZUNzc0NsYXNzQ3VycmVudEZyb21GcmFtZShmcmFtZXNPYmplY3QuY3VyRnJhbWVJbmRleCk7XG4gIGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdmcmFtZXNfX2l0ZW0nKSkge1xuICAgIGZyYW1lc09iamVjdC5vcGVuRnJhbWUodGFyZ2V0KTtcbiAgfSBlbHNlIGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdmcmFtZXNfX2J0bi1kZWwnKSkge1xuICAgIGZyYW1lc09iamVjdC5kZWxldGVGcmFtZSh0YXJnZXQpO1xuICB9IGVsc2UgaWYgKHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2ZyYW1lc19fYnRuLWFkZCcpKSB7XG4gICAgZnJhbWVzT2JqZWN0LmFkZEZyYW1lKHRhcmdldCk7XG4gIH0gZWxzZSBpZiAodGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnZnJhbWVzX19idG4tY29weScpKSB7XG4gICAgZnJhbWVzT2JqZWN0LmR1cGxpY2F0ZUZyYW1lKHRhcmdldCk7XG4gIH1cbiAgZnJhbWVzT2JqZWN0LmFkZENzc0NsYXNzQ3VycmVudFRvRnJhbWUoZnJhbWVzT2JqZWN0LmN1ckZyYW1lSW5kZXgpO1xufSk7XG5cbi8vIGRyYWcgYW5kIGRyb3AgZnJhbWVzXG5cbmh0bWxGcmFtZUxpc3QuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ3N0YXJ0JywgKGUpID0+IHtcbiAgLy8gY29uc29sZS5sb2coJ2RyYWdzdGFydCcpO1xuICBkcmFnZ2VkRnJvbUZyYW1lSW5kZXggPSBmcmFtZXNPYmplY3QuZ2V0Q2hpbGRJbmRleEluRnJhbWVMaXN0KGUudGFyZ2V0KTtcbiAgLy8gY29uc29sZS5sb2coYGZyb206JHtkcmFnZ2VkRnJvbUZyYW1lSW5kZXh9YCk7XG59KTtcblxuaHRtbEZyYW1lTGlzdC5hZGRFdmVudExpc3RlbmVyKCdkcmFnZW50ZXInLCAoZSkgPT4ge1xuICAvLyBjb25zb2xlLmxvZygnZHJhZ2VudGVyJyk7XG4gIGUudGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2RyYWdvdmVyJyk7XG59KTtcblxuaHRtbEZyYW1lTGlzdC5hZGRFdmVudExpc3RlbmVyKCdkcmFnb3ZlcicsIChlKSA9PiB7XG4gIC8vIGNvbnNvbGUubG9nKCdkcmFnb3ZlcicpO1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIGUuZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3QgPSAnbW92ZSc7XG4gIHJldHVybiBmYWxzZTtcbn0pO1xuXG5odG1sRnJhbWVMaXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdsZWF2ZScsIChlKSA9PiB7XG4gIC8vIGNvbnNvbGUubG9nKCdkcmFnbGVhdmUnKTtcbiAgZS50YXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgnZHJhZ292ZXInKTtcbn0pO1xuXG5odG1sRnJhbWVMaXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCAoZSkgPT4ge1xuICAvLyBjb25zb2xlLmxvZygnZHJvcCcpO1xuICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICBjb25zdCBkcmFnZ2VkVG9GcmFtZUluZGV4ID0gZnJhbWVzT2JqZWN0LmdldENoaWxkSW5kZXhJbkZyYW1lTGlzdChlLnRhcmdldCk7XG4gIGlmIChkcmFnZ2VkRnJvbUZyYW1lSW5kZXggIT09IGRyYWdnZWRUb0ZyYW1lSW5kZXgpIHtcbiAgICBjb25zdCBmcmFtZXMgPSBodG1sRnJhbWVMaXN0LmNoaWxkcmVuO1xuICAgIC8vIGNvbnNvbGUubG9nKGB0bzoke2RyYWdnZWRUb0ZyYW1lSW5kZXh9YCk7XG5cbiAgICAvLyBjdXQgbW92aW5nIGZyYW1lIGZyb20gaHRtbCBhbmQgaW5zZXJ0IGl0IHRvIHRoZSByaWdodCBwb3NpdGlvblxuICAgIGlmIChkcmFnZ2VkRnJvbUZyYW1lSW5kZXggPCBkcmFnZ2VkVG9GcmFtZUluZGV4KSB7XG4gICAgICBodG1sRnJhbWVMaXN0Lmluc2VydEJlZm9yZShmcmFtZXNbZHJhZ2dlZEZyb21GcmFtZUluZGV4XSxcbiAgICAgICAgZnJhbWVzW2RyYWdnZWRUb0ZyYW1lSW5kZXhdLm5leHRTaWJsaW5nKTtcbiAgICB9IGVsc2UgaHRtbEZyYW1lTGlzdC5pbnNlcnRCZWZvcmUoZnJhbWVzW2RyYWdnZWRGcm9tRnJhbWVJbmRleF0sIGZyYW1lc1tkcmFnZ2VkVG9GcmFtZUluZGV4XSk7XG5cbiAgICBmcmFtZXNPYmplY3QuY3VyRnJhbWVJbmRleCA9IGZyYW1lc09iamVjdC5nZXRDaGlsZEluZGV4SW5GcmFtZUxpc3QoaHRtbEZyYW1lTGlzdC5xdWVyeVNlbGVjdG9yKCcuY3VycmVudC1mcmFtZScpKTtcblxuICAgIC8vIGN1dCBtb3ZpbmcgZnJhbWUgZnJvbSBhcnJheSBhbmQgaW5zZXJ0IGl0IHRvIHRoZSByaWdodCBwb3NpdGlvblxuICAgIGNvbnN0IGN1dHRlZEZyYW1lID0gZnJhbWVzT2JqZWN0LmN1clNlc3Npb25GcmFtZXMuc3BsaWNlKGRyYWdnZWRGcm9tRnJhbWVJbmRleCwgMSlbMF07XG4gICAgZnJhbWVzT2JqZWN0LmN1clNlc3Npb25GcmFtZXMuc3BsaWNlKGRyYWdnZWRUb0ZyYW1lSW5kZXgsIDAsIGN1dHRlZEZyYW1lKTtcblxuICAgIGZyYW1lc09iamVjdC5kcmF3RnJhbWVzU2VyaWFsTnVtYmVyc0luRnJhbWVMaXN0KCk7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufSk7XG5cbmh0bWxGcmFtZUxpc3QuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2VuZCcsICgpID0+IHtcbiAgLy8gY29uc29sZS5sb2coJ2RyYWdlbmQgJyk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgaHRtbEZyYW1lTGlzdC5jaGlsZHJlbi5sZW5ndGg7IGkgKz0gMSkge1xuICAgIC8vIGNvbnNvbGUubG9nKCdyZW1vdmUgZnJvbSAnKTtcbiAgICBodG1sRnJhbWVMaXN0LmNoaWxkcmVuW2ldLmNsYXNzTGlzdC5yZW1vdmUoJ2RyYWdvdmVyJyk7XG4gIH1cbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBmcmFtZXNPYmplY3Q7XG4iLCJpbXBvcnQgZnJhbWVzSGFuZGxlciBmcm9tICcuL2ZyYW1lbGlzdCc7XG5pbXBvcnQgeyBodG1sUHJldmlldywgaHRtbFByZXZpZXdTcGVlZEZwcywgaHRtbFByZXZpZXdTcGVlZFJhbmdlIH0gZnJvbSAnLi9odG1sLXZhcmlhYmxlcyc7XG5cbmNvbnN0IHByZXZpZXdPYmplY3QgPSB7XG4gIGN1clByZXZpZXdGcmFtZUluZGV4OiAtMSxcbiAgcHJldmlld1JlZnJlc2hQZXJpb2Q6IDEwMDAsXG4gIGlzUHJldmlld1J1bm5pbmc6IGZhbHNlLFxuICBwcmV2aWV3RHJhd0ludGVydmFsOiBudWxsLFxuXG4gIC8vIGZ1bmN0aW9uc1xuICBkcmF3TmV4dEZyYW1lSW5QcmV2aWV3KCkge1xuICAgIHRoaXMuY3VyUHJldmlld0ZyYW1lSW5kZXggKz0gMTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbWF4LWxlblxuICAgIGlmIChmcmFtZXNIYW5kbGVyLmN1clNlc3Npb25GcmFtZXMubGVuZ3RoIDw9IHRoaXMuY3VyUHJldmlld0ZyYW1lSW5kZXgpIHRoaXMuY3VyUHJldmlld0ZyYW1lSW5kZXggPSAwO1xuICAgIGh0bWxQcmV2aWV3LnN0eWxlID0gYGJhY2tncm91bmQtaW1hZ2U6IHVybChcIiR7ZnJhbWVzSGFuZGxlci5jdXJTZXNzaW9uRnJhbWVzW3RoaXMuY3VyUHJldmlld0ZyYW1lSW5kZXhdfVwiKWA7XG4gIH0sXG59O1xuXG5odG1sUHJldmlld1NwZWVkUmFuZ2UuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gIGh0bWxQcmV2aWV3U3BlZWRGcHMuaW5uZXJUZXh0ID0gaHRtbFByZXZpZXdTcGVlZFJhbmdlLnZhbHVlO1xufSk7XG5cbmh0bWxQcmV2aWV3U3BlZWRSYW5nZS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XG4gIGNvbnN0IGZwcyA9IHBhcnNlSW50KGh0bWxQcmV2aWV3U3BlZWRSYW5nZS52YWx1ZSwgMTApO1xuICBpZiAoZnBzID09PSAwKSB7XG4gICAgcHJldmlld09iamVjdC5pc1ByZXZpZXdSdW5uaW5nID0gZmFsc2U7XG4gICAgcHJldmlld09iamVjdC5wcmV2aWV3UmVmcmVzaFBlcmlvZCA9IDEwMDA7XG4gIH0gZWxzZSB7XG4gICAgcHJldmlld09iamVjdC5pc1ByZXZpZXdSdW5uaW5nID0gdHJ1ZTtcbiAgICBwcmV2aWV3T2JqZWN0LnByZXZpZXdSZWZyZXNoUGVyaW9kID0gMTAwMCAvIGZwcztcbiAgfVxuICBjbGVhckludGVydmFsKHByZXZpZXdPYmplY3QucHJldmlld0RyYXdJbnRlcnZhbCk7XG4gIHByZXZpZXdPYmplY3QucHJldmlld0RyYXdJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICBpZiAocHJldmlld09iamVjdC5pc1ByZXZpZXdSdW5uaW5nKSBwcmV2aWV3T2JqZWN0LmRyYXdOZXh0RnJhbWVJblByZXZpZXcoKTtcbiAgfSwgcHJldmlld09iamVjdC5wcmV2aWV3UmVmcmVzaFBlcmlvZCk7XG59KTtcblxuaHRtbFByZXZpZXcuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIGh0bWxQcmV2aWV3LnJlcXVlc3RGdWxsc2NyZWVuKCk7XG59KTtcblxuaHRtbFByZXZpZXcub25mdWxsc2NyZWVuY2hhbmdlID0gZnVuY3Rpb24gYSgpIHtcbiAgaHRtbFByZXZpZXcuY2xhc3NMaXN0LnRvZ2dsZSgnZnVsbHNjcmVlbicpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgcHJldmlld09iamVjdDtcbiIsImltcG9ydCB7XG4gIENBTlZBU19TSVpFLFxuICBERUZBVUxUX0JBQ0tHUk9VTkRfQ09MT1IsIERFRkFVTFRfUEVOQ0lMX0NPTE9SLFxuICBESU1FTlNJT05fTEFSR0UsXG4gIERJTUVOU0lPTl9NRURJVU0sXG4gIERJTUVOU0lPTl9TTUFMTCxcbiAgSVRFTV9DTEFTUyxcbiAgU0VMRUNURURfSVRFTV9DTEFTUyxcbn0gZnJvbSAnLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgaHRtbENhbnZhcywgY3R4IH0gZnJvbSAnLi9odG1sLXZhcmlhYmxlcyc7XG5pbXBvcnQgZnJhbWVzSGFuZGxlciBmcm9tICcuL2ZyYW1lbGlzdCc7XG5cbmNvbnN0IHN0b3JhZ2VPYmplY3QgPSB7XG5cbiAgbG9hZEN1cnJlbnRDb2xvcigpIHtcbiAgICBjb25zdCBsb2FkZWRDdXJyZW50Q29sb3IgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY3VycmVudC1jb2xvcicpO1xuICAgIGxldCBjdXJyZW50Q29sb3I7XG5cbiAgICBpZiAobG9hZGVkQ3VycmVudENvbG9yICYmIGxvYWRlZEN1cnJlbnRDb2xvciAhPT0gJ251bGwnKSB7XG4gICAgICBjdXJyZW50Q29sb3IgPSBKU09OLnBhcnNlKGxvYWRlZEN1cnJlbnRDb2xvcik7XG5cbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke0lURU1fQ0xBU1N9W2NvbG9yPVwiY3Vyci1jb2xvclwiXSAud2luZG93X19jb2xvcmApXG4gICAgICAgIC52YWx1ZSA9IGN1cnJlbnRDb2xvcjtcbiAgICAgIHJldHVybiBjdXJyZW50Q29sb3I7XG4gICAgfVxuICAgIHJldHVybiBERUZBVUxUX1BFTkNJTF9DT0xPUjtcbiAgfSxcblxuICBsb2FkRGltZW5zaW9uTGVuKCkge1xuICAgIGNvbnN0IGxvYWRlZERpbWVuc2lvbkxlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdkaW1lbnNpb25MZW4nKTtcbiAgICBsZXQgZGltZW5zaW9uTGVuO1xuXG4gICAgaWYgKGxvYWRlZERpbWVuc2lvbkxlbiAmJiBsb2FkZWREaW1lbnNpb25MZW4gIT09ICdudWxsJykge1xuICAgICAgZGltZW5zaW9uTGVuID0gSlNPTi5wYXJzZShsb2FkZWREaW1lbnNpb25MZW4pO1xuICAgICAgc3dpdGNoIChkaW1lbnNpb25MZW4pIHtcbiAgICAgICAgY2FzZSAnRElNRU5TSU9OX1NNQUxMJzoge1xuICAgICAgICAgIGRpbWVuc2lvbkxlbiA9IERJTUVOU0lPTl9TTUFMTDtcbiAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuJHtJVEVNX0NMQVNTfVtkaW1lbnNpb249XCJESU1FTlNJT05fU01BTExcIl1gKVxuICAgICAgICAgICAgLmNsYXNzTGlzdC5hZGQoU0VMRUNURURfSVRFTV9DTEFTUyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAnRElNRU5TSU9OX01FRElVTSc6IHtcbiAgICAgICAgICBkaW1lbnNpb25MZW4gPSBESU1FTlNJT05fTUVESVVNO1xuICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke0lURU1fQ0xBU1N9W2RpbWVuc2lvbj1cIkRJTUVOU0lPTl9NRURJVU1cIl1gKVxuICAgICAgICAgICAgLmNsYXNzTGlzdC5hZGQoU0VMRUNURURfSVRFTV9DTEFTUyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAnRElNRU5TSU9OX0xBUkdFJzoge1xuICAgICAgICAgIGRpbWVuc2lvbkxlbiA9IERJTUVOU0lPTl9MQVJHRTtcbiAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuJHtJVEVNX0NMQVNTfVtkaW1lbnNpb249XCJESU1FTlNJT05fTEFSR0VcIl1gKVxuICAgICAgICAgICAgLmNsYXNzTGlzdC5hZGQoU0VMRUNURURfSVRFTV9DTEFTUyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgIGRpbWVuc2lvbkxlbiA9IERJTUVOU0lPTl9TTUFMTDtcbiAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuJHtJVEVNX0NMQVNTfVtkaW1lbnNpb249XCJESU1FTlNJT05fU01BTExcIl1gKVxuICAgICAgICAgICAgLmNsYXNzTGlzdC5hZGQoU0VMRUNURURfSVRFTV9DTEFTUyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGN0eC5maWxsU3R5bGUgPSBERUZBVUxUX0JBQ0tHUk9VTkRfQ09MT1I7XG4gICAgICBjdHguZmlsbFJlY3QoMCwgMCwgQ0FOVkFTX1NJWkUsIENBTlZBU19TSVpFKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGltZW5zaW9uTGVuID0gRElNRU5TSU9OX1NNQUxMO1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7SVRFTV9DTEFTU31bZGltZW5zaW9uPVwiRElNRU5TSU9OX1NNQUxMXCJdYClcbiAgICAgICAgLmNsYXNzTGlzdC5hZGQoU0VMRUNURURfSVRFTV9DTEFTUyk7XG4gICAgICBjdHguZmlsbFN0eWxlID0gREVGQVVMVF9CQUNLR1JPVU5EX0NPTE9SO1xuICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIENBTlZBU19TSVpFLCBDQU5WQVNfU0laRSk7XG4gICAgfVxuICAgIHJldHVybiBkaW1lbnNpb25MZW47XG4gIH0sXG5cbiAgbG9hZEN1clNlc3Npb25GcmFtZXMoKSB7XG4gICAgY29uc3QgbG9hZGVkQ3VyU2Vzc2lvbkZyYW1lcyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjdXJTZXNzaW9uRnJhbWVzJyk7XG5cbiAgICBpZiAobG9hZGVkQ3VyU2Vzc2lvbkZyYW1lcyAmJiBsb2FkZWRDdXJTZXNzaW9uRnJhbWVzICE9PSAnbnVsbCcpIHtcbiAgICAgIGZyYW1lc0hhbmRsZXIuY3VyU2Vzc2lvbkZyYW1lcyA9IEpTT04ucGFyc2UobG9hZGVkQ3VyU2Vzc2lvbkZyYW1lcyk7XG4gICAgICBmcmFtZXNIYW5kbGVyLmRyYXdOZXdGcmFtZUluQ2FudmFzKDApO1xuICAgIH0gZWxzZSB7XG4gICAgICBmcmFtZXNIYW5kbGVyLmN1clNlc3Npb25GcmFtZXMucHVzaChodG1sQ2FudmFzLnRvRGF0YVVSTCgnaW1hZ2UvcG5nJykpO1xuICAgIH1cbiAgfSxcblxuICBzYXZlQWxsKGRpbWVuc2lvbkxlbiwgY3VycmVudENvbG9yKSB7XG4gICAgc3dpdGNoIChkaW1lbnNpb25MZW4pIHtcbiAgICAgIGNhc2UgRElNRU5TSU9OX1NNQUxMOiB7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdkaW1lbnNpb25MZW4nLCBKU09OLnN0cmluZ2lmeSgnRElNRU5TSU9OX1NNQUxMJykpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgRElNRU5TSU9OX01FRElVTToge1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZGltZW5zaW9uTGVuJywgSlNPTi5zdHJpbmdpZnkoJ0RJTUVOU0lPTl9NRURJVU0nKSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBESU1FTlNJT05fTEFSR0U6IHtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2RpbWVuc2lvbkxlbicsIEpTT04uc3RyaW5naWZ5KCdESU1FTlNJT05fTEFSR0UnKSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgZGVmYXVsdDoge1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZGltZW5zaW9uTGVuJywgSlNPTi5zdHJpbmdpZnkoJ0RJTUVOU0lPTl9TTUFMTCcpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnJhbWVzSGFuZGxlci5kcmF3Q3VyRnJhbWVJbkZyYW1lTGlzdCgpO1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdjdXJTZXNzaW9uRnJhbWVzJywgSlNPTi5zdHJpbmdpZnkoZnJhbWVzSGFuZGxlci5jdXJTZXNzaW9uRnJhbWVzKSk7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2N1cnJlbnQtY29sb3InLCBKU09OLnN0cmluZ2lmeShjdXJyZW50Q29sb3IpKTtcbiAgfSxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHN0b3JhZ2VPYmplY3Q7XG4iLCJmdW5jdGlvbiBjb252ZXJ0UGl4ZWxEYXRhVG9IZXhDb2xvcihwaXhlbERhdGEpIHtcbiAgbGV0IHIgPSBwaXhlbERhdGFbMF0udG9TdHJpbmcoMTYpO1xuICBsZXQgZyA9IHBpeGVsRGF0YVsxXS50b1N0cmluZygxNik7XG4gIGxldCBiID0gcGl4ZWxEYXRhWzJdLnRvU3RyaW5nKDE2KTtcbiAgaWYgKHIubGVuZ3RoID09PSAxKSB7XG4gICAgciA9IGAwJHtyfWA7XG4gIH1cbiAgaWYgKGcubGVuZ3RoID09PSAxKSB7XG4gICAgZyA9IGAwJHtnfWA7XG4gIH1cbiAgaWYgKGIubGVuZ3RoID09PSAxKSB7XG4gICAgYiA9IGAwJHtifWA7XG4gIH1cbiAgcmV0dXJuIGAjJHtyfSR7Z30ke2J9YDtcbn1cblxuZnVuY3Rpb24gZ2V0Qm90dG9tWUFuZFJpZ2h0WE9mUGl4ZWwobmV3WCwgbmV3WSwgY2FudmFzU2l6ZSwgc3RlcCkge1xuICBsZXQgYm90dG9tWTtcbiAgbGV0IHJpZ2h0WDtcblxuICBmb3IgKGJvdHRvbVkgPSAwOyBib3R0b21ZIDwgY2FudmFzU2l6ZTsgYm90dG9tWSArPSBzdGVwKSB7XG4gICAgaWYgKGJvdHRvbVkgPiBuZXdZKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgZm9yIChyaWdodFggPSAwOyByaWdodFggPCBjYW52YXNTaXplOyByaWdodFggKz0gc3RlcCkge1xuICAgIGlmIChyaWdodFggPiBuZXdYKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICByZXR1cm4geyByaWdodFgsIGJvdHRvbVkgfTtcbn1cblxuZnVuY3Rpb24gZmxvb2RGaWxsKHgsIHksIHN0ZXAsIGZpbGxTcXVhcmUsIGNoZWNrVmFsaWRpdHkpIHtcbiAgY29uc3QgcSA9IFtdO1xuICBxLnB1c2goeyB4LCB5IH0pO1xuXG4gIHdoaWxlIChxLmxlbmd0aCAhPT0gMCkge1xuICAgIGNvbnN0IHsgeDogeDEsIHk6IHkxIH0gPSBxLnBvcCgpO1xuICAgIGZpbGxTcXVhcmUoeDEsIHkxKTtcblxuICAgIGlmIChjaGVja1ZhbGlkaXR5KHgxICsgc3RlcCwgeTEpKSBxLnB1c2goeyB4OiAoeDEgKyBzdGVwKSwgeTogeTEgfSk7XG4gICAgaWYgKGNoZWNrVmFsaWRpdHkoeDEgLSBzdGVwLCB5MSkpIHEucHVzaCh7IHg6ICh4MSAtIHN0ZXApLCB5OiB5MSB9KTtcbiAgICBpZiAoY2hlY2tWYWxpZGl0eSh4MSwgeTEgKyBzdGVwKSkgcS5wdXNoKHsgeDogeDEsIHk6IHkxICsgKHN0ZXApIH0pO1xuICAgIGlmIChjaGVja1ZhbGlkaXR5KHgxLCB5MSAtIHN0ZXApKSBxLnB1c2goeyB4OiB4MSwgeTogKHkxIC0gc3RlcCkgfSk7XG4gIH1cbn1cblxuZXhwb3J0IHtcbiAgY29udmVydFBpeGVsRGF0YVRvSGV4Q29sb3IsXG4gIGdldEJvdHRvbVlBbmRSaWdodFhPZlBpeGVsLFxuICBmbG9vZEZpbGwsXG59O1xuIiwiaW1wb3J0IGZyYW1lc0hhbmRsZXIgZnJvbSAnLi9mcmFtZWxpc3QnO1xuaW1wb3J0IHsgY3R4LCBodG1sRXhwb3J0QnRuIH0gZnJvbSAnLi9odG1sLXZhcmlhYmxlcyc7XG5pbXBvcnQgcHJldmlld09iamVjdCBmcm9tICcuL3ByZXZpZXcnO1xuXG5cbmh0bWxFeHBvcnRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICBjb25zdCBlbmNvZGVyID0gbmV3IEdJRkVuY29kZXIoKTtcbiAgZW5jb2Rlci5zZXRSZXBlYXQoMCk7XG4gIGVuY29kZXIuc2V0RGVsYXkocHJldmlld09iamVjdC5wcmV2aWV3UmVmcmVzaFBlcmlvZCk7XG4gIGVuY29kZXIuc3RhcnQoKTtcblxuICBjb25zdCBwcm9taXNlQXJyYXkgPSBbXTtcbiAgZm9yIChsZXQgaSA9IGZyYW1lc0hhbmRsZXIuY3VyRnJhbWVJbmRleDsgaSA8IGZyYW1lc0hhbmRsZXIuY3VyU2Vzc2lvbkZyYW1lcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIHByb21pc2VBcnJheS5wdXNoKGZyYW1lc0hhbmRsZXIuZHJhd05ld0ZyYW1lSW5DYW52YXMoaSkudGhlbigoKSA9PiB7XG4gICAgICBlbmNvZGVyLmFkZEZyYW1lKGN0eCk7XG4gICAgfSkpO1xuICB9XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZnJhbWVzSGFuZGxlci5jdXJGcmFtZUluZGV4OyBpICs9IDEpIHtcbiAgICBwcm9taXNlQXJyYXkucHVzaChmcmFtZXNIYW5kbGVyLmRyYXdOZXdGcmFtZUluQ2FudmFzKGkpLnRoZW4oKCkgPT4ge1xuICAgICAgZW5jb2Rlci5hZGRGcmFtZShjdHgpO1xuICAgIH0pKTtcbiAgfVxuICBQcm9taXNlLmFsbChwcm9taXNlQXJyYXkpLnRoZW4oKCkgPT4ge1xuICAgIGZyYW1lc0hhbmRsZXIuZHJhd05ld0ZyYW1lSW5DYW52YXMoZnJhbWVzSGFuZGxlci5jdXJGcmFtZUluZGV4KTtcbiAgICBlbmNvZGVyLmZpbmlzaCgpO1xuICAgIGVuY29kZXIuZG93bmxvYWQoJ2Rvd25sb2FkLmdpZicpO1xuICB9KTtcbn0pO1xuIiwiaW1wb3J0IHtcbiAgY3R4LCBodG1sQ2FudmFzLCBodG1sQ3VyQ29sb3JJbnB1dCxcbn0gZnJvbSAnLi9odG1sLXZhcmlhYmxlcyc7XG5pbXBvcnQge1xuICBDQU5WQVNfU0laRSxcbiAgREVGQVVMVF9CQUNLR1JPVU5EX0NPTE9SLFxuICBERUZBVUxUX1BFTkNJTF9DT0xPUixcbiAgREVGQVVMVF9TRUxFQ1RFRF9UT09MLFxuICBESU1FTlNJT05fU01BTEwsXG4gIElURU1fQ0xBU1MsXG4gIFNFTEVDVEVEX0lURU1fQ0xBU1MsXG59IGZyb20gJy4vY29uc3RhbnRzJztcbmltcG9ydCBzdG9yYWdlSGFuZGxlciBmcm9tICcuL3N0b3JhZ2UnO1xuaW1wb3J0IHtcbiAgY29udmVydFBpeGVsRGF0YVRvSGV4Q29sb3IsXG4gIGdldEJvdHRvbVlBbmRSaWdodFhPZlBpeGVsLFxuICBmbG9vZEZpbGwsXG59IGZyb20gJy4vdXRpbHMnO1xuXG5pbXBvcnQgJy4vZXhwb3J0JztcblxubGV0IGlzQ2FudmFzQ2xpY2tlZCA9IGZhbHNlO1xubGV0IGxhc3RYO1xubGV0IGxhc3RZO1xuXG5mdW5jdGlvbiBnZXRDYW52YXNQaXhlbENvbG9yKHgsIHkpIHtcbiAgY29uc3QgcGl4ZWxEYXRhID0gY3R4LmdldEltYWdlRGF0YSh4LCB5LCAxLCAxKS5kYXRhO1xuICByZXR1cm4gY29udmVydFBpeGVsRGF0YVRvSGV4Q29sb3IocGl4ZWxEYXRhKTtcbn1cblxuaHRtbENhbnZhcy53aWR0aCA9IENBTlZBU19TSVpFO1xuaHRtbENhbnZhcy5oZWlnaHQgPSBDQU5WQVNfU0laRTtcblxuY29uc3QgY2FudmFzT2JqZWN0ID0ge1xuICBjdXJyZW50Q29sb3I6IERFRkFVTFRfUEVOQ0lMX0NPTE9SLFxuICBkaW1lbnNpb25MZW46IERJTUVOU0lPTl9TTUFMTCxcbiAgc2VsZWN0ZWRUb29sOiBERUZBVUxUX1NFTEVDVEVEX1RPT0wsXG4gIHBlbmNpbFVuaXQ6IDEsXG4gIGVyYXNlclVuaXQ6IDIsXG5cbiAgaW5pdCgpIHtcbiAgICB0aGlzLmRpbWVuc2lvbkxlbiA9IHN0b3JhZ2VIYW5kbGVyLmxvYWREaW1lbnNpb25MZW4oKTtcbiAgICB0aGlzLmN1cnJlbnRDb2xvciA9IHN0b3JhZ2VIYW5kbGVyLmxvYWRDdXJyZW50Q29sb3IoKTtcbiAgfSxcblxuICAvLyBkcmF3aW5nIHRvb2xzIGZ1bmN0aW9uc1xuICBwZW5jaWxGdW5jKG5ld1gsIG5ld1ksIGNvbG9yLCB1bml0KSB7XG4gICAgY29uc3Qgc3RlcCA9IENBTlZBU19TSVpFIC8gdGhpcy5kaW1lbnNpb25MZW47XG4gICAgbGV0IHsgcmlnaHRYLCBib3R0b21ZIH0gPSBnZXRCb3R0b21ZQW5kUmlnaHRYT2ZQaXhlbChuZXdYLCBuZXdZLCBodG1sQ2FudmFzLndpZHRoLCBzdGVwKTtcblxuICAgIGNvbnN0IGZhdFVuaXRCb3JkZXIgPSAyO1xuICAgIGlmICh1bml0ID4gZmF0VW5pdEJvcmRlcikge1xuICAgICAgcmlnaHRYICs9IHN0ZXA7XG4gICAgICBib3R0b21ZICs9IHN0ZXA7XG4gICAgfVxuXG4gICAgY3R4LmZpbGxTdHlsZSA9IGNvbG9yO1xuICAgIGN0eC5maWxsUmVjdChyaWdodFggLSB1bml0ICogc3RlcCwgYm90dG9tWSAtIHVuaXQgKiBzdGVwLFxuICAgICAgdW5pdCAqIHN0ZXAgKyAxLCB1bml0ICogc3RlcCArIDEpO1xuICB9LFxuICBmaWxsQnVja2V0RnVuYyhuZXdYLCBuZXdZKSB7XG4gICAgY29uc3Qgc3RlcCA9IENBTlZBU19TSVpFIC8gdGhpcy5kaW1lbnNpb25MZW47XG4gICAgY29uc3QgeyByaWdodFgsIGJvdHRvbVkgfSA9IGdldEJvdHRvbVlBbmRSaWdodFhPZlBpeGVsKG5ld1gsIG5ld1ksIGh0bWxDYW52YXMud2lkdGgsIHN0ZXApO1xuXG4gICAgY29uc3Qgb2xkQ29sb3IgPSBnZXRDYW52YXNQaXhlbENvbG9yKHJpZ2h0WCAtIHN0ZXAgLyAyLCBib3R0b21ZIC0gc3RlcCAvIDIpO1xuICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLmN1cnJlbnRDb2xvcjtcbiAgICBmbG9vZEZpbGwocmlnaHRYIC0gc3RlcCAvIDIsIGJvdHRvbVkgLSBzdGVwIC8gMiwgc3RlcCxcbiAgICAgIChjZW50ZXJYLCBjZW50ZXJZKSA9PiB7XG4gICAgICAgIGN0eC5maWxsUmVjdChjZW50ZXJYIC0gc3RlcCAvIDIsIGNlbnRlclkgLSBzdGVwIC8gMiwgc3RlcCArIDEsIHN0ZXAgKyAxKTtcbiAgICAgIH0sXG4gICAgICAoY2VudGVyWCwgY2VudGVyWSkgPT4ge1xuICAgICAgICBpZiAoIShjZW50ZXJYID4gMCAmJiBjZW50ZXJYIDwgQ0FOVkFTX1NJWkVcbiAgICAgICAgICAmJiBjZW50ZXJZID4gMCAmJiBjZW50ZXJZIDwgQ0FOVkFTX1NJWkUpKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmIChvbGRDb2xvciA9PT0gdGhpcy5jdXJyZW50Q29sb3IpIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKG9sZENvbG9yICE9PSBnZXRDYW52YXNQaXhlbENvbG9yKGNlbnRlclgsIGNlbnRlclkpKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSk7XG4gIH0sXG4gIGV5ZURyb3BwZXJGdW5jKG5ld1gsIG5ld1kpIHtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuJHtTRUxFQ1RFRF9JVEVNX0NMQVNTfWApLmNsYXNzTGlzdC5yZW1vdmUoU0VMRUNURURfSVRFTV9DTEFTUyk7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7SVRFTV9DTEFTU31bdG9vbD1cInBlbmNpbFwiXWApLmNsYXNzTGlzdC5hZGQoU0VMRUNURURfSVRFTV9DTEFTUyk7XG4gICAgdGhpcy5zZWxlY3RlZFRvb2wgPSAncGVuY2lsJztcblxuICAgIGh0bWxDdXJDb2xvcklucHV0LnZhbHVlID0gZ2V0Q2FudmFzUGl4ZWxDb2xvcihuZXdYLCBuZXdZKTtcbiAgICB0aGlzLmN1cnJlbnRDb2xvciA9IGh0bWxDdXJDb2xvcklucHV0LnZhbHVlO1xuICB9LFxufTtcblxuLy8gY2FudmFzIGV2ZW50cyBoYW5kbGluZ1xuXG5odG1sQ2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIChlKSA9PiB7XG4gIGlzQ2FudmFzQ2xpY2tlZCA9IHRydWU7XG4gIGxhc3RYID0gZS5jbGllbnRYIC0gaHRtbENhbnZhcy5vZmZzZXRMZWZ0O1xuICBsYXN0WSA9IGUuY2xpZW50WSAtIGh0bWxDYW52YXMub2Zmc2V0VG9wO1xuICBzd2l0Y2ggKGNhbnZhc09iamVjdC5zZWxlY3RlZFRvb2wpIHtcbiAgICBjYXNlICdwZW5jaWwnOiB7XG4gICAgICBjYW52YXNPYmplY3QucGVuY2lsRnVuYyhsYXN0WCwgbGFzdFksXG4gICAgICAgIGNhbnZhc09iamVjdC5jdXJyZW50Q29sb3IsIGNhbnZhc09iamVjdC5wZW5jaWxVbml0KTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBjYXNlICdmaWxsLWRyaXAnOiB7XG4gICAgICBjYW52YXNPYmplY3QuZmlsbEJ1Y2tldEZ1bmMobGFzdFgsIGxhc3RZLCBsYXN0WCwgbGFzdFkpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGNhc2UgJ2V5ZS1kcm9wcGVyJzoge1xuICAgICAgY2FudmFzT2JqZWN0LmV5ZURyb3BwZXJGdW5jKGxhc3RYLCBsYXN0WSk7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgY2FzZSAnZXJhc2VyJzoge1xuICAgICAgY2FudmFzT2JqZWN0LnBlbmNpbEZ1bmMobGFzdFgsIGxhc3RZLFxuICAgICAgICBERUZBVUxUX0JBQ0tHUk9VTkRfQ09MT1IsIGNhbnZhc09iamVjdC5lcmFzZXJVbml0KTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBkZWZhdWx0OiB7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbn0pO1xuXG5odG1sQ2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIChlKSA9PiB7XG4gIGlmIChpc0NhbnZhc0NsaWNrZWQpIHtcbiAgICBzd2l0Y2ggKGNhbnZhc09iamVjdC5zZWxlY3RlZFRvb2wpIHtcbiAgICAgIGNhc2UgJ3BlbmNpbCc6IHtcbiAgICAgICAgY2FudmFzT2JqZWN0LnBlbmNpbEZ1bmMoZS5jbGllbnRYIC0gaHRtbENhbnZhcy5vZmZzZXRMZWZ0LCBlLmNsaWVudFkgLSBodG1sQ2FudmFzLm9mZnNldFRvcCxcbiAgICAgICAgICBjYW52YXNPYmplY3QuY3VycmVudENvbG9yLCBjYW52YXNPYmplY3QucGVuY2lsVW5pdCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSAnZXJhc2VyJzoge1xuICAgICAgICBjYW52YXNPYmplY3QucGVuY2lsRnVuYyhlLmNsaWVudFggLSBodG1sQ2FudmFzLm9mZnNldExlZnQsIGUuY2xpZW50WSAtIGh0bWxDYW52YXMub2Zmc2V0VG9wLFxuICAgICAgICAgIERFRkFVTFRfQkFDS0dST1VORF9DT0xPUiwgY2FudmFzT2JqZWN0LmVyYXNlclVuaXQpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIGxhc3RYID0gZS5jbGllbnRYIC0gaHRtbENhbnZhcy5vZmZzZXRMZWZ0O1xuICAgIGxhc3RZID0gZS5jbGllbnRZIC0gaHRtbENhbnZhcy5vZmZzZXRUb3A7XG4gIH1cbn0pO1xuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgKCkgPT4ge1xuICBpc0NhbnZhc0NsaWNrZWQgPSBmYWxzZTtcbiAgbGFzdFggPSB1bmRlZmluZWQ7XG4gIGxhc3RZID0gdW5kZWZpbmVkO1xufSk7XG5cbmV4cG9ydCBkZWZhdWx0IGNhbnZhc09iamVjdDtcbiIsIlxuLy8gaXRlbXMgY2xpY2sgaGFuZGxlcnMgLS0+IG1vdmUgdG8gaXRlbXMgbW9kdWxlXG5cbmltcG9ydCB7IGh0bWxUb29sSXRlbXMgfSBmcm9tICcuL2h0bWwtdmFyaWFibGVzJztcbmltcG9ydCB7IFNFTEVDVEVEX0lURU1fQ0xBU1MgfSBmcm9tICcuL2NvbnN0YW50cyc7XG5pbXBvcnQgY2FudmFzSGFuZGxlciBmcm9tICcuL2NhbnZhcyc7XG5cbmh0bWxUb29sSXRlbXMuZm9yRWFjaCgod2luZG93VG9vbEl0ZW0pID0+IHtcbiAgd2luZG93VG9vbEl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgLy9cbiAgICBpZiAod2luZG93VG9vbEl0ZW0uaGFzQXR0cmlidXRlKCd0b29sJykpIHtcbiAgICAgIC8vXG4gICAgICBpZiAoIXdpbmRvd1Rvb2xJdGVtLmNsYXNzTGlzdC5jb250YWlucyhTRUxFQ1RFRF9JVEVNX0NMQVNTKSkge1xuICAgICAgICAvL1xuICAgICAgICB3aW5kb3dUb29sSXRlbS5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke1NFTEVDVEVEX0lURU1fQ0xBU1N9YClcbiAgICAgICAgICAuY2xhc3NMaXN0LnJlbW92ZShTRUxFQ1RFRF9JVEVNX0NMQVNTKTtcblxuICAgICAgICB3aW5kb3dUb29sSXRlbS5jbGFzc0xpc3QuYWRkKFNFTEVDVEVEX0lURU1fQ0xBU1MpO1xuXG4gICAgICAgIGNhbnZhc0hhbmRsZXIuc2VsZWN0ZWRUb29sID0gd2luZG93VG9vbEl0ZW0uZ2V0QXR0cmlidXRlKCd0b29sJyk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn0pO1xuIiwiLy8gY29uc3RhbnRzIGFuZCB2YXJpYWJsZXNcblxuaW1wb3J0IHtcbiAgaHRtbEN1ckNvbG9ySW5wdXQsXG59IGZyb20gJy4vaHRtbC12YXJpYWJsZXMnO1xuXG5pbXBvcnQgZnJhbWVzSGFuZGxlciBmcm9tICcuL2ZyYW1lbGlzdCc7XG5pbXBvcnQgcHJldmlld0hhbmRsZXIgZnJvbSAnLi9wcmV2aWV3JztcbmltcG9ydCBzdG9yYWdlSGFuZGxlciBmcm9tICcuL3N0b3JhZ2UnO1xuaW1wb3J0IGNhbnZhc0hhbmRsZXIgZnJvbSAnLi9jYW52YXMnO1xuaW1wb3J0IGtleWJvYXJkSGFuZGxlciBmcm9tICcuL2tleWJvYXJkJztcbmltcG9ydCAnLi90b29sSXRlbXNIYW5kbGVyJztcblxuLy8gbG9jYWwgc3RvcmFnZSBsb2Fkc1xuXG5jYW52YXNIYW5kbGVyLmluaXQoKTtcbnN0b3JhZ2VIYW5kbGVyLmxvYWRDdXJTZXNzaW9uRnJhbWVzKCk7XG5cbi8vIGZyYW1lcyBhbmQgcHJldmlldyBpbml0c1xuXG5mcmFtZXNIYW5kbGVyLmluaXRGcmFtZUxpc3QoKTtcbnByZXZpZXdIYW5kbGVyLmRyYXdOZXh0RnJhbWVJblByZXZpZXcoKTtcblxuXG4vLyBrZXlib2FyZCBob3RrZXlzIGhhbmRsZXJcblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChlKSA9PiB7XG4gIGtleWJvYXJkSGFuZGxlcihlKTtcbn0pO1xuXG5odG1sQ3VyQ29sb3JJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XG4gIGNhbnZhc0hhbmRsZXIuY3VycmVudENvbG9yID0gaHRtbEN1ckNvbG9ySW5wdXQudmFsdWU7XG59KTtcblxuLy8gcGFnZSBsZWF2ZSBoYW5kbGVyXG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdiZWZvcmV1bmxvYWQnLCAoKSA9PiB7XG4gIHN0b3JhZ2VIYW5kbGVyLnNhdmVBbGwoY2FudmFzSGFuZGxlci5kaW1lbnNpb25MZW4sIGNhbnZhc0hhbmRsZXIuY3VycmVudENvbG9yKTtcbn0pO1xuIiwiaW1wb3J0IHtcbiAgSE9US0VZU19DT0xPUl9CVUNLRVQsXG4gIEhPVEtFWVNfRVJBU0VSLFxuICBIT1RLRVlTX0VZRV9EUk9QUEVSLFxuICBIT1RLRVlTX1BFTkNJTCxcbiAgSVRFTV9DTEFTUyxcbiAgSE9US0VZU19HSUZfRVhQT1JULFxuICBIT1RLRVlTX0FERF9GUkFNRSxcbiAgSE9US0VZU19ERUxFVEVfRlJBTUUsXG4gIEhPVEtFWVNfRFVQTElDQVRFX0ZSQU1FLFxufSBmcm9tICcuL2NvbnN0YW50cyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChldmVudCkge1xuICBpZiAoZXZlbnQua2V5ID09PSBIT1RLRVlTX1BFTkNJTFswXSB8fCBldmVudC5rZXkgPT09IEhPVEtFWVNfUEVOQ0lMWzFdKSB7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7SVRFTV9DTEFTU31bdG9vbD1cInBlbmNpbFwiXWApLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdjbGljaycpKTtcbiAgfSBlbHNlIGlmIChldmVudC5rZXkgPT09IEhPVEtFWVNfRVlFX0RST1BQRVJbMF0gfHwgZXZlbnQua2V5ID09PSBIT1RLRVlTX0VZRV9EUk9QUEVSWzFdKSB7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7SVRFTV9DTEFTU31bdG9vbD1cImV5ZS1kcm9wcGVyXCJdYCkuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ2NsaWNrJykpO1xuICB9IGVsc2UgaWYgKGV2ZW50LmtleSA9PT0gSE9US0VZU19DT0xPUl9CVUNLRVRbMF0gfHwgZXZlbnQua2V5ID09PSBIT1RLRVlTX0NPTE9SX0JVQ0tFVFsxXSkge1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke0lURU1fQ0xBU1N9W3Rvb2w9XCJmaWxsLWRyaXBcIl1gKS5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnY2xpY2snKSk7XG4gIH0gZWxzZSBpZiAoZXZlbnQua2V5ID09PSBIT1RLRVlTX0VSQVNFUlswXSB8fCBldmVudC5rZXkgPT09IEhPVEtFWVNfRVJBU0VSWzFdKSB7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7SVRFTV9DTEFTU31bdG9vbD1cImVyYXNlclwiXWApLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdjbGljaycpKTtcbiAgfSBlbHNlIGlmIChldmVudC5rZXkgPT09IEhPVEtFWVNfR0lGX0VYUE9SVFswXSB8fCBldmVudC5rZXkgPT09IEhPVEtFWVNfR0lGX0VYUE9SVFsxXSkge1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNleHBvcnQtYnRuJykuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ2NsaWNrJykpO1xuICB9IGVsc2UgaWYgKGV2ZW50LmtleSA9PT0gSE9US0VZU19BRERfRlJBTUVbMF0pIHtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZnJhbWVzIC5jdXJyZW50LWZyYW1lIC5mcmFtZXNfX2J0bi1hZGQnKS5jbGljaygpO1xuICB9IGVsc2UgaWYgKGV2ZW50LmtleSA9PT0gSE9US0VZU19ERUxFVEVfRlJBTUVbMF0pIHtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZnJhbWVzIC5jdXJyZW50LWZyYW1lIC5mcmFtZXNfX2J0bi1kZWwnKS5jbGljaygpO1xuICB9IGVsc2UgaWYgKGV2ZW50LmtleSA9PT0gSE9US0VZU19EVVBMSUNBVEVfRlJBTUVbMF0gfHwgZXZlbnQua2V5ID09PSBIT1RLRVlTX0RVUExJQ0FURV9GUkFNRVsxXSkge1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mcmFtZXMgLmN1cnJlbnQtZnJhbWUgLmZyYW1lc19fYnRuLWNvcHknKS5jbGljaygpO1xuICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9